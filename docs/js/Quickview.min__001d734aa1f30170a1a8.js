webpackJsonpCoveo__temporary([12],{14:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(){}return t.addClassToSVGInContainer=function(e,i){var n=e.querySelector("svg");n.setAttribute("class",""+t.getClass(n)+i)},t.removeClassFromSVGInContainer=function(e,i){var n=e.querySelector("svg");n.setAttribute("class",t.getClass(n).replace(i,""))},t.addStyleToSVGInContainer=function(t,e){var i=t.querySelector("svg");n.each(e,function(t,e){i.style[e]=t})},t.getClass=function(t){var e=t.getAttribute("class");return e?e+" ":""},t}();e.SVGDom=o},155:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.quickviewLoaded="quickviewLoaded",t.openQuickview="openQuickview",t}();e.QuickviewEvents=n},161:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,r){function s(t){try{u(n.next(t))}catch(t){r(t)}}function a(t){try{u(n.throw(t))}catch(t){r(t)}}function u(t){t.done?o(t.value):new i(function(e){e(t.value)}).then(s,a)}u((n=n.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,r&&(s=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){u.label=i[1];break}if(6===i[0]&&u.label<s[1]){u.label=s[1],s=i;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(i);break}s[2]&&u.ops.pop(),u.trys.pop();continue}i=e.call(t,u)}catch(t){i=[6,t],r=0}finally{o=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var o,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),u=i(155),l=i(5),c=i(2),d=i(4),p=i(6),h=i(7),m=i(1),v=i(417),f=i(418),g=i(419),w=i(0),y=i(422),b=i(423);e.HIGHLIGHT_PREFIX="CoveoHighlight";var k=function(t){function e(i,n,o,r){var s=t.call(this,i,e.ID,o)||this;return s.element=i,s.options=n,s.result=r,s.options=h.ComponentOptions.initComponentOptions(i,e,n),s.result=r||s.resolveResult(),s.termsToHighlightWereModified=!1,l.Assert.exists(s.result),s}return n(e,t),e.prototype.createDom=function(){var t=c.$$("div",{className:"coveo-quickview-document"});this.element.appendChild(t.el),this.header=new f.QuickviewDocumentHeader,this.iframe=new v.QuickviewDocumentIframe,t.append(this.header.el),t.append(this.iframe.el)},e.prototype.open=function(){return r(this,void 0,void 0,function(){var t,e,i,n,o,r,l,r,d=this;return s(this,function(s){switch(s.label){case 0:this.ensureDom(),t=(new Date).getTime(),e=a.keys(this.result.termsToHighlight),c.$$(this.element).trigger(u.QuickviewEvents.openQuickview,{termsToHighlight:e}),this.checkIfTermsToHighlightWereModified(e),this.termsToHighlightWereModified&&this.handleTermsToHighlight(e,this.query),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this.queryController.getEndpoint().getDocumentHtml(this.result.uniqueId,{queryObject:this.query,requestedOutputSize:this.options.maximumDocumentSize})];case 2:return i=s.sent(),[4,this.iframe.render(i)];case 3:return s.sent(),n=new g.QuickviewDocumentWords(this.iframe,this.result),o=new b.QuickviewDocumentPreviewBar(this.iframe,n),w.each(n.words,function(t){var e=new y.QuickviewDocumentWordButton(t,o,d.iframe);d.header.addWord(e)}),r=(new Date).getTime(),this.triggerQuickviewLoaded(r-t),[3,6];case 4:return l=s.sent(),[4,this.iframe.renderError(l)];case 5:return s.sent(),r=(new Date).getTime(),this.triggerQuickviewLoaded(r-t),[3,6];case 6:return[2]}})})},Object.defineProperty(e.prototype,"query",{get:function(){return o({},this.queryController.getLastQuery())},enumerable:!0,configurable:!0}),e.prototype.triggerQuickviewLoaded=function(t){c.$$(this.element).trigger(u.QuickviewEvents.quickviewLoaded,{duration:t})},e.prototype.handleTermsToHighlight=function(t,e){var i=this;for(var n in this.result.termsToHighlight)delete this.result.termsToHighlight[n];var o="";a.each(t,function(t){o+=t+" ",i.result.termsToHighlight[t]=new Array(t)}),o=o.substring(0,o.length-1),e.q=o},e.prototype.checkIfTermsToHighlightWereModified=function(t){d.Utils.arrayEqual(t,a.keys(this.result.termsToHighlight))||(this.termsToHighlightWereModified=!0)},e.ID="QuickviewDocument",e.options={maximumDocumentSize:h.ComponentOptions.buildNumberOption({defaultValue:0,min:0})},e}(p.Component);e.QuickviewDocument=k,m.Initialization.registerAutoCreateComponent(k)},196:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),r=i(7),s=i(63),a=i(2),u=i(416),l=i(32),c=i(18),d=i(161),p=i(12),h=i(155),m=i(1),v=i(20),f=i(23),g=i(3);i(424);var w=i(13),y=i(14),b=i(9),k=i(4),C=i(52),I=function(t){function e(i,n,o,s,c){void 0===c&&(c=f.ModalBox);var d=t.call(this,i,e.ID,o)||this;if(d.element=i,d.options=n,d.bindings=o,d.result=s,d.ModalBox=c,d.options=r.ComponentOptions.initComponentOptions(i,e,n),null==d.options.contentTemplate&&(d.options.contentTemplate=new u.DefaultQuickviewTemplate),/^\s*$/.test(d.element.innerHTML)){var p=a.$$("div",{className:"coveo-icon-for-quickview"},w.SVGIcons.icons.quickview);y.SVGDom.addClassToSVGInContainer(p.el,"coveo-icon-for-quickview-svg");var h=a.$$("div",{className:"coveo-caption-for-icon",tabindex:0},"Quickview".toLocaleString()).el,m=a.$$("div");m.append(p.el),m.append(h),a.$$(d.element).append(m.el)}return d.bindClick(s),d.bindings.resultElement&&d.bind.on(d.bindings.resultElement,l.ResultListEvents.openQuickview,function(){return d.open()}),d}return n(e,t),e.prototype.open=function(){var t=this;if(null==this.modalbox){e.resultCurrentlyBeingRendered=this.result,document.activeElement&&document.activeElement instanceof HTMLElement&&a.$$(document.activeElement).trigger("blur");var i=this.prepareOpenQuickviewObject();this.createModalBox(i).then(function(){t.bindQuickviewEvents(i),t.animateAndOpen(),t.logUsageAnalyticsEvent(),t.queryStateModel.set(p.QueryStateModel.attributesEnum.quickview,t.getHashId()),e.resultCurrentlyBeingRendered=null})}},e.prototype.close=function(){null!=this.modalbox&&(this.modalbox.close(),this.modalbox=null)},e.prototype.getHashId=function(){return this.result.queryUid+"."+this.result.index+"."+c.StringUtils.hashCode(this.result.uniqueId)},e.prototype.logUsageAnalyticsEvent=function(){this.usageAnalytics.logClickEvent(b.analyticsActionCauseList.documentQuickview,{author:k.Utils.getFieldValue(this.result,"author"),documentURL:this.result.clickUri,documentTitle:this.result.title},this.result,this.element)},e.prototype.bindClick=function(t){var e=this;if(void 0===t.hasHtmlVersion||t.hasHtmlVersion||this.options.alwaysShow){var i=function(){return e.open()};a.$$(this.element).on("click",i),this.bind.on(this.element,"keyup",v.KeyboardUtils.keypressAction(v.KEYBOARD.ENTER,i))}else this.element.style.display="none"},e.prototype.bindQuickviewEvents=function(t){a.$$(this.modalbox.content).on(h.QuickviewEvents.quickviewLoaded,function(){t.loadingAnimation instanceof HTMLElement?a.$$(t.loadingAnimation).remove():t.loadingAnimation instanceof Promise&&t.loadingAnimation.then(function(t){a.$$(t).remove()})})},e.prototype.animateAndOpen=function(){var t=a.$$(this.modalbox.modalBox).find("."+o.Component.computeCssClassName(d.QuickviewDocument));t&&m.Initialization.dispatchNamedMethodCallOrComponentCreation("open",t,null)},e.prototype.createModalBox=function(t){var e=this,i=a.$$("div");return i.addClass("coveo-computed-modal-box-content"),t.content.then(function(t){i.append(t.el);var n=s.DomUtils.getQuickviewHeader(e.result,{showDate:e.options.showDate,title:e.options.title},e.bindings).el;return e.modalbox=e.ModalBox.open(i.el,{title:n,className:"coveo-quick-view",validation:function(){return e.closeQuickview(),!0},body:e.element.ownerDocument.body,sizeMod:"big"}),i})},e.prototype.prepareOpenQuickviewObject=function(){var t=this.options.loadingAnimation;return{loadingAnimation:t,content:this.prepareQuickviewContent(t)}},e.prototype.prepareQuickviewContent=function(t){var e=this;return this.options.contentTemplate.instantiateToElement(this.result).then(function(i){var n=a.$$(i),r=e.searchInterface.options,s={options:r,bindings:e.getBindings(),result:e.result};return m.Initialization.automaticallyCreateComponentsInside(n.el,s).initResult.then(function(){return void 0!=n.find("."+o.Component.computeCssClassName(d.QuickviewDocument))&&e.options.enableLoadingAnimation&&(t instanceof HTMLElement?n.prepend(t):t instanceof Promise&&t.then(function(t){n.prepend(t)})),n})})},e.prototype.closeQuickview=function(){this.queryStateModel.set(p.QueryStateModel.attributesEnum.quickview,"")},e.ID="Quickview",e.doExport=function(){g.exportGlobally({Quickview:e,QuickviewDocument:d.QuickviewDocument})},e.options={alwaysShow:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),title:r.ComponentOptions.buildStringOption(),showDate:r.ComponentOptions.buildBooleanOption({defaultValue:!0}),enableLoadingAnimation:r.ComponentOptions.buildBooleanOption({defaultValue:!0}),contentTemplate:C.TemplateComponentOptions.buildTemplateOption({selectorAttr:"data-template-selector",idAttr:"data-template-id"}),loadingAnimation:r.ComponentOptions.buildOption(r.ComponentOptionsType.NONE,function(t){var e=t.getAttribute("data-loading-animation-selector");if(null!=e){var i=a.$$(document.documentElement).find(e);if(null!=i)return a.$$(i).detach(),i}var n=t.getAttribute("data-loading-animation-template-id");if(null!=n){var o=C.TemplateComponentOptions.loadResultTemplateFromId(n);if(o)return o.instantiateToElement(void 0,{checkCondition:!1})}return s.DomUtils.getBasicLoadingAnimation()})},e.resultCurrentlyBeingRendered=null,e}(o.Component);e.Quickview=I,m.Initialization.registerAutoCreateComponent(I)},416:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),r=function(t){function e(){return t.call(this)||this}return n(e,t),e.prototype.instantiateToString=function(t){return'<div class="coveo-quick-view-full-height"><div class="CoveoQuickviewDocument"></div></div>'},e}(o.Template);e.DefaultQuickviewTemplate=r},417:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(0),r=i(47),s=function(){function t(){this.el=this.buildIFrame().el}return Object.defineProperty(t.prototype,"iframeHTMLElement",{get:function(){return this.iframeElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this.iframeElement.contentWindow.document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.document.body},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.iframeElement.contentWindow},enumerable:!0,configurable:!0}),t.prototype.isNewQuickviewDocument=function(){var t=n.$$(this.document.head).find("meta[name='generator']");return t&&"pdf2htmlEX"==t.getAttribute("content")},t.prototype.render=function(t){var e=this;return this.quickviewIsClosedByEndUser()?Promise.reject(null):new Promise(function(i,n){e.iframeElement.onload=function(){i(e.iframeElement)},e.addClientSideTweaksToIFrameStyling(t),e.writeToIFrame(t)})},t.prototype.renderError=function(t){var e=this;return this.quickviewIsClosedByEndUser()?Promise.reject(null):new Promise(function(i,o){var s="";switch(t.status){case 400:s=r.l("NoQuickview");break;default:s=r.l("OoopsError")}var a=document.implementation.createHTMLDocument();a.body.style.fontFamily="Arimo, 'Helvetica Neue', Helvetica, Arial, sans-serif",n.$$(a.body).text(s),e.writeToIFrame(a),i(e.iframeElement)})},t.prototype.quickviewIsClosedByEndUser=function(){return null==this.iframeElement.contentDocument},t.prototype.buildIFrame=function(){var t=n.$$("iframe",{sandbox:"allow-same-origin allow-top-navigation",src:"about:blank"});this.iframeElement=t.el;var e=n.$$("div",{className:"coveo-iframeWrapper"});return e.append(t.el),e},t.prototype.writeToIFrame=function(t){this.allowDocumentLinkToEscapeSandbox(t),this.document.open(),this.document.write(t.getElementsByTagName("html")[0].outerHTML),this.document.close()},t.prototype.allowDocumentLinkToEscapeSandbox=function(t){o.each(n.$$(t.body).findAll("a"),function(t){t.setAttribute("target","_top")})},t.prototype.addClientSideTweaksToIFrameStyling=function(t){var e=n.$$("style",{type:"text/css"}).el,i="\n      html pre {\n        white-space: pre-wrap;\n        word-wrap: break-word;\n      }\n      body, html {\n        font-family: Arimo, 'Helvetica Neue', Helvetica, Arial, sans-serif; -webkit-text-size-adjust: none;\n      }\n      "+(r.DeviceUtils.isIos()?"\n      body, html {\n        height: 1px !important;\n        min-height: 100%;\n        width: 1px !important;\n        min-width: 100%;\n        overflow: scroll;\n        margin: auto\n      }\n      ":"")+"\n      ";r.DeviceUtils.isIos()&&(n.$$(this.iframeElement).setAttribute("scrolling","no"),this.iframeElement.parentElement.style.margin="0 0 5px 5px"),e.appendChild(document.createTextNode(i)),t.head.appendChild(e)},t}();e.QuickviewDocumentIframe=s},418:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(){function t(){this.el=this.buildHeader().el}return t.prototype.addWord=function(t){this.el.appendChild(t.el)},t.prototype.buildHeader=function(){return n.$$("div",{className:"coveo-quickview-header"})},t}();e.QuickviewDocumentHeader=o},419:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(0),r=i(420),s=i(161),a=function(){function t(t,e){this.iframe=t,this.result=e,this.words={},this.scanDocument()}return t.prototype.scanDocument=function(){var t=this;o.each(n.$$(this.iframe.body).findAll('[id^="'+s.HIGHLIGHT_PREFIX+'"]'),function(e,i){var n=new r.QuickviewDocumentWord(t.result);n.doCompleteInitialScanForKeywordInDocument(e);var o=t.words[n.indexIdentifier];o?(o.addElement(e),o.occurrence==n.occurrence&&(o.text+=n.text)):t.words[n.indexIdentifier]=n})},t}();e.QuickviewDocumentWords=a},420:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(47),r=i(11),s=i(2),a=i(161),u=i(421),l=function(){function t(t){this.result=t,this.count=0,this.elements=[],this.currentNavigationPosition=-1,this.logger=new r.Logger(this)}return t.prototype.addElement=function(t){this.count++,this.elements.push(t)},t.prototype.navigateForward=function(){return this.currentNavigationPosition++,this.currentNavigationPosition>=this.elements.length&&(this.currentNavigationPosition=0),this.highlightNavigation(),this.putElementIntoView(),this.elements[this.currentNavigationPosition]},t.prototype.navigateBackward=function(){return this.currentNavigationPosition--,this.currentNavigationPosition<0&&(this.currentNavigationPosition=this.elements.length-1),this.highlightNavigation(),this.putElementIntoView(),this.elements[this.currentNavigationPosition]},t.prototype.navigateTo=function(t){return this.currentNavigationPosition=t,(this.currentNavigationPosition<0||this.currentNavigationPosition>=this.elements.length)&&(this.currentNavigationPosition=0,this.logger.warn("Invalid position in quickview navigation: "+t)),this.highlightNavigation(),this.elements[this.currentNavigationPosition]},t.prototype.doCompleteInitialScanForKeywordInDocument=function(t){var e=this.parseKeywordIdentifier(t);e&&(this.indexIdentifier=e.keywordIdentifier,this.occurrence=e.keywordOccurrencesInDocument,this.indexTermPart=e.keywordTermPart,this.text=this.getText(t),this.color=new u.QuickviewDocumentWordColor(t.style.backgroundColor),this.addElement(t))},t.prototype.isTaggedWord=function(t){return"coveotaggedword"==t.nodeName.toLowerCase()},t.prototype.highlightNavigation=function(){var t=this,e=this.elements[this.currentNavigationPosition],i=n.without(this.elements,e);e.style.color=this.color.htmlColor,e.style.backgroundColor=this.color.invert(),i.forEach(function(e){e.style.color="",e.style.backgroundColor=t.color.htmlColor})},t.prototype.putElementIntoView=function(){this.elements[this.currentNavigationPosition].scrollIntoView()},t.prototype.getText=function(t){var e=this.getHighlightedInnerText(t);return this.resolveOriginalTerm(e)},t.prototype.resolveOriginalTerm=function(t){var e=this;return this.result&&this.result.termsToHighlight?n.find(n.keys(this.result.termsToHighlight),function(i){var r=o.StringUtils.equalsCaseInsensitive(i,t),s=void 0!=n.find(e.result.termsToHighlight[i],function(e){return o.StringUtils.equalsCaseInsensitive(e,t)});return r||s})||t:t},t.prototype.getHighlightedInnerText=function(t){if(!this.isTaggedWord(t))return s.$$(t).text()||"";var e=s.$$(t).children();return e.length>=1?s.$$(n.first(e)).text()||"":""},t.prototype.parseKeywordIdentifier=function(t){var e=t.id.substr(a.HIGHLIGHT_PREFIX.length+1).match(/^([0-9]+)\.([0-9]+)\.([0-9]+)$/);return!e||e.length<=3?null:{keywordIdentifier:e[1],keywordOccurrencesInDocument:parseInt(e[2],10),keywordTermPart:parseInt(e[3],10)}},t}();e.QuickviewDocumentWord=l},421:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(104),o=function(){function t(t){this.htmlColor=t;var e=t.match(/\d+/g);e&&(this.r=parseInt(e[0],10),this.g=parseInt(e[1],10),this.b=parseInt(e[2],10))}return t.prototype.invert=function(){return"rgb("+(255-this.r)+", "+(255-this.g)+", "+(255-this.b)+")"},t.prototype.saturate=function(){var t=n.ColorUtils.rgbToHsv(this.r,this.g,this.b);t[1]*=2,t[1]>1&&(t[1]=1);var e=n.ColorUtils.hsvToRgb(t[0],t[1],t[2]);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},t}();e.QuickviewDocumentWordColor=o},422:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=function(){function t(t,e,i){this.word=t,this.previewBar=e,this.iframe=i,this.el=this.render()}return t.prototype.render=function(){var t=n.$$("span",{className:"coveo-term-for-quickview"});return t.append(this.buildName().el),t.append(this.renderArrow("up").el),t.append(this.renderArrow("down").el),t.el.style.backgroundColor=this.word.color.htmlColor,t.el.style.borderColor=this.word.color.saturate(),t.el},t.prototype.buildName=function(){var t=this,e=n.$$("span",{className:"coveo-term-for-quickview-name"},this.word.text+" ("+this.word.count+")");return e.on("click",function(){return t.navigate(!1)}),e},t.prototype.navigate=function(t){var e;if(t?(e=this.word.navigateBackward(),this.previewBar.navigateBackward(this.word)):(e=this.word.navigateForward(),this.previewBar.navigateForward(this.word)),this.iframe.isNewQuickviewDocument()){var i=n.$$(e).closest(".pc");n.$$(i).addClass("opened")}e.scrollIntoView()},t.prototype.renderArrow=function(t){var e=this,i=n.$$("span",{className:"coveo-term-for-quickview-"+t+"-arrow"}),o=n.$$("span",{className:"coveo-term-for-quickview-"+t+"-arrow-icon"});return i.append(o.el),i.on("click",function(){return e.navigate("up"==t)}),i},t}();e.QuickviewDocumentWordButton=o},423:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=i(0),r=i(11),s=function(){function t(t,e){this.iframe=t,this.words=e,this.wordIndicators=new Map,this.logger=new r.Logger(this),this.renderPreviewBar()}return t.prototype.navigateForward=function(t){var e=this.wordIndicators.get(t);return e?(e.position++,e.position>=e.indicators.length&&(e.position=0),this.highlightNavigation(t),e.indicators[e.position]):(this.logger.warn("Invalid navigation for given word.",t),null)},t.prototype.navigateBackward=function(t){var e=this.wordIndicators.get(t);return e?(e.position--,e.position<0&&(e.position=e.indicators.length-1),this.highlightNavigation(t),e.indicators[e.position]):(this.logger.warn("Invalid navigation for the given word.",t),null)},t.prototype.navigateTo=function(t,e){var i=this.wordIndicators.get(e);return i?(i.position=t,(i.position<0||i.position>=i.indicators.length)&&(this.logger.warn("Invalid navigation for the given position: "+t),i.position=0),this.highlightNavigation(e),i.indicators[i.position]):(this.logger.warn("Invalid navigation for the given word",e),null)},t.prototype.highlightNavigation=function(t){var e=this,i=this.wordIndicators.get(t),n=i.indicators[i.position],r=o.without(i.indicators,n);n.style.backgroundColor=t.color.invert(),n.style.border="1px solid "+t.color.invert(),r.forEach(function(i){return e.defaultStyleColor(i,t)})},t.prototype.renderPreviewBar=function(){var t=this,e=n.$$("div");e.el.style.width="15px",e.el.style.position="fixed",e.el.style.top="0",e.el.style.right="0px",e.el.style.height="100%",this.iframe.body.appendChild(e.el),o.each(this.words.words,function(i){o.each(i.elements,function(n){var o=t.renderWordPositionIndicator(n,i).el;t.wordIndicators.has(i)?t.wordIndicators.get(i).indicators.push(o):t.wordIndicators.set(i,{indicators:[o],position:-1}),e.append(o)}),t.handleOverlappingIndicators(i)})},t.prototype.renderWordPositionIndicator=function(t,e){var i=new n.Doc(this.iframe.document).height(),o=t.getBoundingClientRect().top,r=n.$$("div");return r.el.style.position="absolute",r.el.style.top=o/i*100+"%",r.el.style.width="100%",r.el.style.height="1px",this.defaultStyleColor(r.el,e),r},t.prototype.defaultStyleColor=function(t,e){t.style.border="1px solid "+e.color.saturate(),t.style.backgroundColor=e.color.htmlColor},t.prototype.handleOverlappingIndicators=function(t){for(var e=this.wordIndicators.get(t).indicators,i=0;i<e.length;i++)!function(t){var i=o.chain(e).without(e[t]).find(function(i){return i.style.top==e[t].style.top}).value();i&&(n.$$(e[t]).remove(),e[t]=i)}(i)},t}();e.QuickviewDocumentPreviewBar=s},424:function(t,e){}});