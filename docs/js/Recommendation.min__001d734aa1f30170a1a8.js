webpackJsonpCoveo__temporary([10],{138:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(17),s=o(7),r=o(10),a=o(30),p=o(32),d=o(40),c=o(69),l=o(66),u=o(9),h=o(35),m=o(155),v=o(12),f=o(16),C=o(4),y=o(2),R=o(425),S=o(88),g=o(26),w=o(15),E=o(0),_=o(3),O=o(327),b=o(428),A=o(144);o(429);var D=function(e){function t(o,n,i,a){void 0===n&&(n={}),void 0===i&&(i={}),void 0===a&&(a=window);var p=e.call(this,o,s.ComponentOptions.initComponentOptions(o,t,n),i,a)||this;return p.element=o,p.options=n,p.analyticsOptions=i,p.element.style.display="",p.options.id||p.generateDefaultId(),p.preventEventPropagation(),p.options.mainSearchInterface&&p.bindToMainSearchInterface(),y.$$(p.element).on(r.QueryEvents.buildingQuery,function(e,t){return p.handleRecommendationBuildingQuery(t)}),y.$$(p.element).on(r.QueryEvents.querySuccess,function(e,t){return p.handleRecommendationQuerySuccess(t)}),y.$$(p.element).on(r.QueryEvents.noResults,function(e,t){return p.handleRecommendationNoResults()}),y.$$(p.element).on(r.QueryEvents.queryError,function(e,t){return p.handleRecommendationQueryError()}),p.historyStore=new S.history.HistoryStore,p.options.mainSearchInterface||p.ensureCurrentPageViewExistsInStore(),R.ResponsiveRecommendation.init(p.root,p,n),p}return n(t,e),t.prototype.getId=function(){return this.options.id},t.prototype.enable=function(){e.prototype.enable.call(this),this.show()},t.prototype.disable=function(){e.prototype.disable.call(this),this.hide()},t.prototype.hide=function(){y.$$(this.element).addClass("coveo-hidden")},t.prototype.show=function(){y.$$(this.element).removeClass("coveo-hidden")},t.prototype.ensureCurrentPageViewExistsInStore=function(){var e={name:"PageView",value:document.location.toString(),time:JSON.stringify(new Date),title:document.title};this.historyStore.addElement(e)},t.prototype.bindToMainSearchInterface=function(){this.bindComponentOptionsModelToMainSearchInterface(),this.bindQueryEventsToMainSearchInterface()},t.prototype.bindComponentOptionsModelToMainSearchInterface=function(){var e=this,t=g.get(this.options.mainSearchInterface,i.SearchInterface),o=null!=t,n=function(){var o=t.getBindings().componentOptionsModel;e.componentOptionsModel.setMultiple(o.getAttributes()),y.$$(e.options.mainSearchInterface).on(e.componentOptionsModel.getEventName(f.MODEL_EVENTS.ALL),function(){e.componentOptionsModel.setMultiple(o.getAttributes())})};o?n():y.$$(this.options.mainSearchInterface).on(w.InitializationEvents.afterComponentsInitialization,function(){t=g.get(e.options.mainSearchInterface,i.SearchInterface),n()})},t.prototype.bindQueryEventsToMainSearchInterface=function(){var e=this;y.$$(this.options.mainSearchInterface).on(r.QueryEvents.querySuccess,function(t,o){e.mainInterfaceQuery=o,e.mainQuerySearchUID=o.results.searchUid,e.mainQueryPipeline=o.results.pipeline,0!=o.results.results.length&&(e.usageAnalytics.logSearchEvent(u.analyticsActionCauseList.recommendation,{}),e.queryController.executeQuery({closeModalBox:!1}))}),y.$$(this.options.mainSearchInterface).on(r.QueryEvents.queryError,function(){return e.hide()}),y.$$(this.options.mainSearchInterface).on(r.QueryEvents.noResults,function(){return e.hide()})},t.prototype.handleRecommendationBuildingQuery=function(e){this.disabled||(this.modifyQueryForRecommendation(e),this.addRecommendationInfoInQuery(e))},t.prototype.handleRecommendationQuerySuccess=function(e){this.disabled||this.options.hideIfNoResults&&(0===e.results.totalCount?this.hide():this.show())},t.prototype.handleRecommendationNoResults=function(){this.disabled||this.options.hideIfNoResults&&this.hide()},t.prototype.handleRecommendationQueryError=function(){this.disabled||this.hide()},t.prototype.modifyQueryForRecommendation=function(e){this.mainInterfaceQuery&&C.Utils.copyObjectAttributes(e.queryBuilder,this.mainInterfaceQuery.queryBuilder,this.options.optionsToUse)},t.prototype.addRecommendationInfoInQuery=function(e){E.isEmpty(this.options.userContext)||e.queryBuilder.addContext(this.options.userContext),e.queryBuilder.recommendation=this.options.id},t.prototype.preventEventPropagation=function(){this.preventEventPropagationOn(r.QueryEvents),this.preventEventPropagationOn(a.OmniboxEvents),this.preventEventPropagationOn(p.ResultListEvents),this.preventEventPropagationOn(d.SettingsEvents),this.preventEventPropagationOn(c.PreferencesPanelEvents),this.preventEventPropagationOn(l.AnalyticsEvents),this.preventEventPropagationOn(h.BreadcrumbEvents),this.preventEventPropagationOn(m.QuickviewEvents),this.preventEventPropagationOn(w.InitializationEvents),this.preventEventPropagationOn(this.getAllModelEvents())},t.prototype.preventEventPropagationOn=function(e,t){void 0===t&&(t=function(e){return e});for(var o in e)y.$$(this.root).on(t(o),function(e){return e.stopPropagation()})},t.prototype.getAllModelEvents=function(){var e=this,t={},o=this.getBindings().queryStateModel;return E.each(E.values(f.Model.eventTypes),function(n){var i=o.getEventName(n);t[i]=i,E.each(E.values(v.QUERY_STATE_ATTRIBUTES),function(o){var i=e.queryStateModel.getEventName(n+o);t[i]=i})}),t},t.prototype.generateDefaultId=function(){var e="Recommendation";1!==t.NEXT_ID&&(this.logger.warn("Generating another recommendation default id","Consider configuring a human friendly / meaningful id for this interface"),e=e+"_"+t.NEXT_ID),t.NEXT_ID++,this.options.id=e},t.ID="Recommendation",t.NEXT_ID=1,t.doExport=function(){_.exportGlobally({Recommendation:t,DefaultRecommendationTemplate:O.DefaultRecommendationTemplate,RecommendationQuery:b.RecommendationQuery,RecommendationAnalyticsClient:A.RecommendationAnalyticsClient})},t.options={mainSearchInterface:s.ComponentOptions.buildSelectorOption(),userContext:s.ComponentOptions.buildJsonOption(),id:s.ComponentOptions.buildStringOption(),optionsToUse:s.ComponentOptions.buildListOption({defaultValue:["expression"]}),sendActionsHistory:s.ComponentOptions.buildBooleanOption({defaultValue:!0,deprecated:"This option is now deprecated. The correct way to control this behaviour is to configure an appropriate machine learning model in the administration interface (Recommendation, Relevance tuning, Query suggestions)"}),hideIfNoResults:s.ComponentOptions.buildBooleanOption({defaultValue:!0}),autoTriggerQuery:s.ComponentOptions.buildBooleanOption({postProcessing:function(e,t){return!t.mainSearchInterface&&e}}),enableResponsiveMode:s.ComponentOptions.buildBooleanOption({defaultValue:!0}),responsiveBreakpoint:s.ComponentOptions.buildNumberOption({defaultValue:1e3}),dropdownHeaderLabel:s.ComponentOptions.buildLocalizedStringOption({defaultValue:"Recommendations"})},t}(i.SearchInterface);t.Recommendation=D},148:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(49),s=o(77),r=function(){function e(e,t,o,n,i){this.element=t,this.cssClassName="coveo-"+e+"-dropdown-content",this.coveoRoot=o,this.widthRatio=i,this.minWidth=n}return e.isTargetInsideOpenedDropdown=function(t){var o=t.parent(e.DEFAULT_CSS_CLASS_NAME);return!!o&&"none"!=o.style.display},e.prototype.positionDropdown=function(){this.element.addClass(this.cssClassName),this.element.addClass(e.DEFAULT_CSS_CLASS_NAME),this.element.el.style.display="";var t=this.widthRatio*this.coveoRoot.width();t<=this.minWidth&&(t=this.minWidth),this.element.el.style.width=t.toString()+"px",i.PopupUtils.positionPopup(this.element.el,n.$$(this.coveoRoot.find("."+s.ResponsiveComponentsManager.DROPDOWN_HEADER_WRAPPER_CSS_CLASS)).el,this.coveoRoot.el,{horizontal:i.PopupHorizontalAlignment.INNERRIGHT,vertical:i.PopupVerticalAlignment.BOTTOM,verticalOffset:15},this.coveoRoot.el)},e.prototype.hideDropdown=function(){this.element.el.style.display="none",this.element.removeClass(this.cssClassName),this.element.removeClass(e.DEFAULT_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.el.removeAttribute("style")},e.DEFAULT_CSS_CLASS_NAME="coveo-dropdown-content",e}();t.ResponsiveDropdownContent=r},149:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),i=function(){function e(){}return e.addPrefixedEvent=function(e,t,o){n.each(this.prefixes,function(n){""==n&&(t=t.toLowerCase()),e.addEventListener(n+t,o,!1)})},e.removePrefixedEvent=function(e,t,o){n.each(this.prefixes,function(n){""==n&&(t=t.toLowerCase()),e.removeEventListener(n+t,o,!1)})},e.prefixes=["webkit","moz","MS","o",""],e}();t.EventsUtils=i},151:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=o(2),s=o(149),r=o(0);!function(e){e.OPEN="responsiveDropdownOpen",e.CLOSE="responsiveDropdownClose"}(n=t.ResponsiveDropdownEvent||(t.ResponsiveDropdownEvent={}));var a=function(){function e(e,t,o){this.dropdownContent=e,this.dropdownHeader=t,this.coveoRoot=o,this.isOpened=!1,this.onOpenHandlers=[],this.onCloseHandlers=[],this.popupBackgroundIsEnabled=!0,this.popupBackground=this.buildPopupBackground(),this.bindOnClickDropdownHeaderEvent(),this.saveContentPosition()}return e.prototype.registerOnOpenHandler=function(e,t){this.onOpenHandlers.push({handler:e,context:t})},e.prototype.registerOnCloseHandler=function(e,t){this.onCloseHandlers.push({handler:e,context:t})},e.prototype.cleanUp=function(){this.close(),this.dropdownHeader.cleanUp(),this.dropdownContent.cleanUp(),this.restoreContentPosition()},e.prototype.open=function(){this.isOpened=!0,this.dropdownHeader.open(),this.dropdownContent.positionDropdown(),r.each(this.onOpenHandlers,function(e){e.handler.apply(e.context)}),this.showPopupBackground(),i.$$(this.dropdownHeader.element).trigger(n.OPEN)},e.prototype.close=function(){this.isOpened=!1,r.each(this.onCloseHandlers,function(e){e.handler.apply(e.context)}),this.dropdownHeader.close(),this.dropdownContent.hideDropdown(),this.hidePopupBackground(),i.$$(this.dropdownHeader.element).trigger(n.CLOSE)},e.prototype.disablePopupBackground=function(){this.popupBackgroundIsEnabled=!1},e.prototype.bindOnClickDropdownHeaderEvent=function(){var e=this;this.dropdownHeader.element.on("click",function(){e.isOpened?e.close():e.open()})},e.prototype.showPopupBackground=function(){this.popupBackgroundIsEnabled&&(this.coveoRoot.el.appendChild(this.popupBackground.el),window.getComputedStyle(this.popupBackground.el).opacity,this.popupBackground.el.style.opacity=e.TRANSPARENT_BACKGROUND_OPACITY,this.popupBackground.addClass("coveo-dropdown-background-active"))},e.prototype.hidePopupBackground=function(){this.popupBackgroundIsEnabled&&(window.getComputedStyle(this.popupBackground.el).opacity,this.popupBackground.el.style.opacity="0",this.popupBackground.removeClass("coveo-dropdown-background-active"))},e.prototype.buildPopupBackground=function(){var t=this,o=i.$$("div",{className:e.DROPDOWN_BACKGROUND_CSS_CLASS_NAME});return s.EventsUtils.addPrefixedEvent(o.el,"TransitionEnd",function(){"0"==o.el.style.opacity&&o.detach()}),o.on("click",function(){return t.close()}),o},e.prototype.saveContentPosition=function(){var e=this.dropdownContent.element.el.previousSibling,t=this.dropdownContent.element.el.parentElement;this.previousSibling=e?i.$$(e):null,this.parent=i.$$(t)},e.prototype.restoreContentPosition=function(){this.previousSibling?this.dropdownContent.element.insertAfter(this.previousSibling.el):this.parent.prepend(this.dropdownContent.element.el)},e.TRANSPARENT_BACKGROUND_OPACITY="0.9",e.DROPDOWN_BACKGROUND_CSS_CLASS_NAME="coveo-dropdown-background",e}();t.ResponsiveDropdown=a},155:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.quickviewLoaded="quickviewLoaded",e.openQuickview="openQuickview",e}();t.QuickviewEvents=n},311:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=function(){function e(t,o){this.element=o,this.element.addClass("coveo-"+t+"-dropdown-header"),this.element.addClass(e.DEFAULT_CSS_CLASS_NAME)}return e.prototype.open=function(){this.element.addClass(e.ACTIVE_HEADER_CSS_CLASS_NAME)},e.prototype.close=function(){this.element.removeClass(e.ACTIVE_HEADER_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.detach()},e.prototype.hide=function(){n.$$(this.element).addClass("coveo-hidden")},e.prototype.show=function(){n.$$(this.element).removeClass("coveo-hidden")},e.DEFAULT_CSS_CLASS_NAME="coveo-dropdown-header",e.ACTIVE_HEADER_CSS_CLASS_NAME="coveo-dropdown-header-active",e}();t.ResponsiveDropdownHeader=i},327:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(22),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.instantiateToString=function(e){return'<div class="coveo-result-frame">\n        <div class="coveo-result-row">\n          <div class="coveo-result-cell" style="width:40px;text-align:center;vertical-align:middle;">\n            <span class="CoveoIcon" data-small="true" data-with-label="false">\n            </span>\n          </div>\n          <div class="coveo-result-cell" style="padding:0 0 3px 5px;vertical-align:middle">\n            <div class="coveo-result-row">\n              <div class="coveo-result-cell" style="font-size:10pt;">\n                <a class="CoveoResultLink" style="display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>'},t.prototype.instantiateToElement=function(e){var t=this;return new Promise(function(o,n){var i=document.createElement("div");i.innerHTML=t.instantiateToString(e),o(i)})},t}(i.Template);t.DefaultRecommendationTemplate=s},425:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(77),i=o(89),s=o(17),r=o(4),a=o(2),p=o(11),d=o(138),c=o(426),l=o(311),u=o(151),h=o(8),m=o(6),v=o(26),f=o(10),C=o(0);o(427);var y=o(53),R=function(){function e(e,t,o,n){this.coveoRoot=e,this.ID=t,this.responsiveDropdown=n,this.recommendationRoot=this.getRecommendationRoot(),this.dropdownHeaderLabel=o.dropdownHeaderLabel,this.breakpoint=this.defineResponsiveBreakpoint(o),this.dropdown=this.buildDropdown(n),this.facets=this.getFacets(),this.facetSliders=this.getFacetSliders(),this.registerOnOpenHandler(),this.registerOnCloseHandler(),this.registerQueryEvents(),this.handleResizeEvent()}return e.init=function(t,o,i){var s=new p.Logger("ResponsiveRecommendation"),r=this.findParentRootOfRecommendationComponent(t);return r?a.$$(r).find(".coveo-results-column")?void n.ResponsiveComponentsManager.register(e,a.$$(r),d.Recommendation.ID,o,C.extend({},i,{initializationEventRoot:a.$$(t)})):void s.info("Cannot find element with class coveo-results-column. Disabling responsive mode for this component."):void s.info("Recommendation component has no parent interface. Disabling responsive mode for this component.")},e.findParentRootOfRecommendationComponent=function(e){var t=a.$$(e).parents(m.Component.computeCssClassName(s.SearchInterface));return t[0]?a.$$(t[0]):null},e.prototype.handleResizeEvent=function(){this.needSmallMode()&&!i.ResponsiveComponentsUtils.isSmallRecommendationActivated(this.coveoRoot)?this.changeToSmallMode():!this.needSmallMode()&&i.ResponsiveComponentsUtils.isSmallRecommendationActivated(this.coveoRoot)&&this.changeToLargeMode(),this.dropdown.isOpened&&this.dropdown.dropdownContent.positionDropdown()},e.prototype.needDropdownWrapper=function(){return this.needSmallMode()},e.prototype.needSmallMode=function(){return this.coveoRoot.width()<=this.breakpoint},e.prototype.changeToSmallMode=function(){var e=this;this.dropdown.close();var t=this.coveoRoot.find("."+n.ResponsiveComponentsManager.DROPDOWN_HEADER_WRAPPER_CSS_CLASS);t?(a.$$(t).append(this.dropdown.dropdownHeader.element.el),this.disableFacetPreservePosition(),i.ResponsiveComponentsUtils.activateSmallRecommendation(this.coveoRoot),i.ResponsiveComponentsUtils.activateSmallRecommendation(this.recommendationRoot)):y.Defer.defer(function(){return e.handleResizeEvent()})},e.prototype.changeToLargeMode=function(){this.enableFacetPreservePosition(),this.dropdown.cleanUp(),i.ResponsiveComponentsUtils.deactivateSmallRecommendation(this.coveoRoot),i.ResponsiveComponentsUtils.deactivateSmallRecommendation(this.recommendationRoot)},e.prototype.buildDropdown=function(e){var t=this.buildDropdownContent(),o=this.buildDropdownHeader(),n=e||new u.ResponsiveDropdown(t,o,this.coveoRoot);return n.disablePopupBackground(),n},e.prototype.buildDropdownHeader=function(){var e=a.$$("a"),t=a.$$("p");return t.text(h.l(this.dropdownHeaderLabel)),e.el.appendChild(t.el),new l.ResponsiveDropdownHeader("recommendation",e)},e.prototype.buildDropdownContent=function(){var e,t=this.coveoRoot.find(".coveo-recommendation-column");return e=t?a.$$(t):a.$$(this.coveoRoot.find("."+m.Component.computeCssClassName(d.Recommendation))),new c.RecommendationDropdownContent("recommendation",e,this.coveoRoot)},e.prototype.defineResponsiveBreakpoint=function(t){return r.Utils.isNullOrUndefined(t.responsiveBreakpoint)?e.RESPONSIVE_BREAKPOINT:t.responsiveBreakpoint},e.prototype.getFacetSliders=function(){var e=[];return C.each(this.coveoRoot.findAll("."+m.Component.computeCssClassNameForType("FacetSlider")),function(t){var o=m.Component.get(t);e.push(o)}),e},e.prototype.getFacets=function(){var e=[];return C.each(this.coveoRoot.findAll("."+m.Component.computeCssClassNameForType("Facet")),function(t){var o=m.Component.get(t);e.push(o)}),e},e.prototype.dismissFacetSearches=function(){C.each(this.facets,function(e){e.facetSearch&&e.facetSearch.currentlyDisplayedResults&&e.facetSearch.completelyDismissSearch()})},e.prototype.enableFacetPreservePosition=function(){C.each(this.facets,function(e){return e.options.preservePosition=!0})},e.prototype.disableFacetPreservePosition=function(){C.each(this.facets,function(e){return e.options.preservePosition=!1})},e.prototype.drawFacetSliderGraphs=function(){C.each(this.facetSliders,function(e){return e.drawDelayedGraphData()})},e.prototype.registerOnOpenHandler=function(){this.dropdown.registerOnOpenHandler(this.drawFacetSliderGraphs,this)},e.prototype.registerOnCloseHandler=function(){this.dropdown.registerOnCloseHandler(this.dismissFacetSearches,this)},e.prototype.getRecommendationRoot=function(){return a.$$(this.coveoRoot.find("."+m.Component.computeCssClassName(d.Recommendation)))},e.prototype.registerQueryEvents=function(){var e=this,t=v.get(this.recommendationRoot.el,s.SearchInterface);t&&t.options.hideIfNoResults&&(this.coveoRoot.on(f.QueryEvents.querySuccess,function(t,o){return e.handleRecommnendationQuerySucess(o)}),this.coveoRoot.on(f.QueryEvents.noResults,function(t,o){return e.handleRecommendationNoResults()})),this.coveoRoot.on(f.QueryEvents.queryError,function(){return e.handleRecommendationQueryError()})},e.prototype.handleRecommnendationQuerySucess=function(e){0===e.results.totalCount?(this.dropdown.close(),this.dropdown.dropdownHeader.hide()):this.dropdown.dropdownHeader.show()},e.prototype.handleRecommendationNoResults=function(){this.dropdown.close(),this.dropdown.dropdownHeader.hide()},e.prototype.handleRecommendationQueryError=function(){this.dropdown.close(),this.dropdown.dropdownHeader.hide()},e.DROPDOWN_CONTAINER_CSS_CLASS_NAME="coveo-recommendation-dropdown-container",e.RESPONSIVE_BREAKPOINT=1e3,e}();t.ResponsiveRecommendation=R},426:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(148),i=o(2),s=function(){function e(e,t,o){this.element=t,this.coveoRoot=o,this.cssClassName="coveo-"+e+"-dropdown-content",this.element.addClass(this.cssClassName),this.element.addClass(n.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME)}return e.prototype.positionDropdown=function(){this.element.el.style.display="";var t=this.coveoRoot.find(".coveo-results-column");i.$$(t).prepend(this.element.el),this.element.addClass(n.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME),this.element.addClass(this.cssClassName),window.getComputedStyle(this.element.el).maxHeight,this.element.addClass(e.OPENED_DROPDOWN_CSS_CLASS_NAME)},e.prototype.hideDropdown=function(){this.element.addClass(n.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME),this.element.addClass(this.cssClassName),this.element.removeClass(e.OPENED_DROPDOWN_CSS_CLASS_NAME)},e.prototype.cleanUp=function(){this.element.removeClass(this.cssClassName),this.element.removeClass(n.ResponsiveDropdownContent.DEFAULT_CSS_CLASS_NAME)},e.OPENED_DROPDOWN_CSS_CLASS_NAME="coveo-open-dropdown-content",e}();t.RecommendationDropdownContent=s},427:function(e,t){},428:function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(6),s=o(7),r=o(4),a=o(10),p=o(1),d=o(2),c=o(0),l=function(e){function t(o,n,i){var p=e.call(this,o,t.ID,i)||this;if(p.element=o,p.options=n,p.options=s.ComponentOptions.initComponentOptions(o,t,n),"script"===p.element.tagName.toLowerCase()){try{p.content=r.Utils.decodeHTMLEntities(d.$$(p.element).text())}catch(e){return p}c.isUndefined(p.content)||""==p.content||p.bind.onRootElement(a.QueryEvents.buildingQuery,p.handleBuildingQuery)}return p}return n(t,e),t.prototype.handleBuildingQuery=function(e){e.queryBuilder.advancedExpression.add(this.content)},t.ID="RecommendationQuery",t.options={},t}(i.Component);t.RecommendationQuery=l,p.Initialization.registerAutoCreateComponent(l)},429:function(e,t){},77:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=o(15),s=o(6),r=o(17),a=o(4),p=o(0),d=o(10),c=o(11),l=o(21),u=function(){function e(t){var o=this;this.disabledComponents=[],this.responsiveComponents=[],this.coveoRoot=t,this.searchInterface=s.Component.get(this.coveoRoot.el,r.SearchInterface,!1),this.dropdownHeadersWrapper=n.$$("div",{className:e.DROPDOWN_HEADER_WRAPPER_CSS_CLASS}),this.searchBoxElement=this.getSearchBoxElement(),this.logger=new c.Logger(this),this.resizeListener=function(){0!=o.coveoRoot.width()?(o.addDropdownHeaderWrapperIfNeeded(),o.shouldSwitchToSmallMode()?o.coveoRoot.addClass("coveo-small-interface"):o.shouldSwitchToSmallMode()||o.coveoRoot.removeClass("coveo-small-interface"),p.each(o.responsiveComponents,function(e){e.handleResizeEvent()})):o.logger.warn("The width of the search interface is 0, cannot dispatch resize events to responsive components. This means that the tabs will not\n        automatically fit in the tab section. Also, the facet and recommendation component will not hide in a menu. Could the search\n        interface display property be none? Could its visibility property be set to hidden? Also, if either of these scenarios happen during\n        loading, it could be the cause of this issue.")},l.DeviceUtils.isMobileDevice()||window.addEventListener("resize",this.resizeListener),this.bindNukeEvents()}return e.register=function(t,o,n,s,r){var l=this;(r.initializationEventRoot||o).on(i.InitializationEvents.afterInitialization,function(){if(l.shouldEnableResponsiveMode(o)){var i=p.find(l.componentManagers,function(e){return o.el==e.coveoRoot.el});if(i||(i=new e(o),l.componentManagers.push(i)),!a.Utils.isNullOrUndefined(r.enableResponsiveMode)&&!r.enableResponsiveMode)return void i.disableComponent(n);l.componentInitializations.push({responsiveComponentsManager:i,arguments:[t,o,n,s,r]})}if(0==--l.remainingComponentInitializations)if(l.instantiateResponsiveComponents(),0==o.width()){var u=new c.Logger("ResponsiveComponentsManager");u.info("Search interface width is 0, cannot dispatch resize events to responsive components. Will try again after first\n          query success."),o.one(d.QueryEvents.querySuccess,function(){l.resizeAllComponentsManager()})}else l.resizeAllComponentsManager()}),this.remainingComponentInitializations++},e.shouldEnableResponsiveMode=function(e){var t=s.Component.get(e.el,r.SearchInterface,!0);return t instanceof r.SearchInterface&&t.options.enableAutomaticResponsiveMode},e.instantiateResponsiveComponents=function(){p.each(this.componentInitializations,function(e){var t=e.responsiveComponentsManager;t.register.apply(t,e.arguments)})},e.resizeAllComponentsManager=function(){p.each(this.componentManagers,function(e){e.resizeListener()})},e.prototype.register=function(e,t,o,n,i){if(!this.isDisabled(o)){if(!this.isActivated(o)){var s=new e(t,o,i);this.isTabs(o)?this.responsiveComponents.push(s):this.responsiveComponents.unshift(s)}p.each(this.responsiveComponents,function(e){null!=e.registerComponent&&e.registerComponent(n)})}},e.prototype.disableComponent=function(e){this.disabledComponents.push(e)},e.prototype.isDisabled=function(e){return-1!=p.indexOf(this.disabledComponents,e)},e.prototype.shouldSwitchToSmallMode=function(){var e=this.needDropdownWrapper(),t=this.coveoRoot.width()<=this.searchInterface.responsiveComponents.getMediumScreenWidth();return e||t},e.prototype.needDropdownWrapper=function(){for(var e=0;e<this.responsiveComponents.length;e++){var t=this.responsiveComponents[e];if(t.needDropdownWrapper&&t.needDropdownWrapper())return!0}return!1},e.prototype.addDropdownHeaderWrapperIfNeeded=function(){if(this.needDropdownWrapper()){var e=n.$$(this.coveoRoot).find(".coveo-tab-section");this.searchBoxElement?this.dropdownHeadersWrapper.insertAfter(this.searchBoxElement):e?this.dropdownHeadersWrapper.insertAfter(e):this.coveoRoot.prepend(this.dropdownHeadersWrapper.el)}},e.prototype.isTabs=function(e){return"Tab"==e},e.prototype.isActivated=function(e){return void 0!=p.find(this.responsiveComponents,function(t){return t.ID==e})},e.prototype.getSearchBoxElement=function(){var e=this.coveoRoot.find(".coveo-search-section");return e||this.coveoRoot.find(".CoveoSearchbox")},e.prototype.bindNukeEvents=function(){var t=this;n.$$(this.coveoRoot).on(i.InitializationEvents.nuke,function(){window.removeEventListener("resize",t.resizeListener),e.componentManagers=p.filter(e.componentManagers,function(e){return e.coveoRoot.el!=t.coveoRoot.el})})},e.DROPDOWN_HEADER_WRAPPER_CSS_CLASS="coveo-dropdown-header-wrapper",e.componentManagers=[],e.remainingComponentInitializations=0,e.componentInitializations=[],e}();t.ResponsiveComponentsManager=u},89:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(148),i=function(){function e(){}return e.shouldDrawFacetSlider=function(e,t){return n.ResponsiveDropdownContent.isTargetInsideOpenedDropdown(t)||!this.isSmallFacetActivated(e)},e.isSmallTabsActivated=function(e){return e.hasClass(this.smallTabsClassName)},e.isSmallFacetActivated=function(e){return e.hasClass(this.smallFacetClassName)},e.isSmallRecommendationActivated=function(e){return e.hasClass(this.smallRecommendationClassName)},e.activateSmallTabs=function(e){e.addClass(this.smallTabsClassName)},e.deactivateSmallTabs=function(e){e.removeClass(this.smallTabsClassName)},e.activateSmallFacet=function(e){e.addClass(this.smallFacetClassName)},e.deactivateSmallFacet=function(e){e.removeClass(this.smallFacetClassName)},e.activateSmallRecommendation=function(e){e.addClass(this.smallRecommendationClassName)},e.deactivateSmallRecommendation=function(e){e.removeClass(this.smallRecommendationClassName)},e.smallTabsClassName="coveo-small-tabs",e.smallFacetClassName="coveo-small-facets",e.smallRecommendationClassName="coveo-small-recommendation",e}();t.ResponsiveComponentsUtils=i}});