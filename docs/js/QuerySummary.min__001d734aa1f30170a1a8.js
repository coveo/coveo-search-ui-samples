webpackJsonpCoveo__temporary([38],{195:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(7),s=n(10),l=n(2),a=n(5),u=n(8),h=n(9),c=n(1),p=n(12),y=n(25),d=n(329),m=n(3),g=n(0),f=n(26);n(415);var S=function(t){function e(n,o,i){var a=t.call(this,n,e.ID,i)||this;return a.element=n,a.options=o,a.options=r.ComponentOptions.initComponentOptions(n,e,o),a.bind.onRootElement(s.QueryEvents.querySuccess,function(t){return a.handleQuerySuccess(t)}),a.bind.onRootElement(s.QueryEvents.queryError,function(){return a.hide()}),a.hide(),a.textContainer=l.$$("span").el,a.element.appendChild(a.textContainer),a}return o(e,t),e.prototype.hide=function(){l.$$(this.element).addClass("coveo-hidden")},e.prototype.show=function(){l.$$(this.element).removeClass("coveo-hidden")},e.prototype.render=function(t,e){if(l.$$(this.textContainer).empty(),this.show(),this.options.onlyDisplaySearchTips||(this.isInfiniteScrollingMode()?this.renderSummaryInInfiniteScrollingMode(t,e):this.renderSummaryInStandardMode(t,e)),null!=e.exception&&null!=e.exception.code){var n=("QueryException"+e.exception.code).toLocaleString();this.textContainer.innerHTML=u.l("QueryException",n)}else 0==e.results.length?this.displayInfoOnNoResults():this.lastKnownGoodState=this.queryStateModel.getAttributes()},e.prototype.handleQuerySuccess=function(t){a.Assert.exists(t),this.render(t.query,t.results)},e.prototype.isInfiniteScrollingMode=function(){var t=l.$$(this.root).findAll("."+i.Component.computeCssClassNameForType("ResultList"));return g.any(t,function(t){return f.get(t).options.enableInfiniteScroll})},e.prototype.formatSummary=function(t,e){var n=y.format(t.firstResult+1,"n0"),o=y.format(t.firstResult+e.results.length,"n0"),i=y.format(e.totalCountFiltered,"n0"),r=t.q?g.escape(t.q.trim()):"";return{first:n,last:o,totalCount:i,query:r,highlightFirst:l.$$("span",{className:"coveo-highlight"},n).el,highlightLast:l.$$("span",{className:"coveo-highlight"},o).el,highlightTotal:l.$$("span",{className:"coveo-highlight"},i).el,highlightQuery:l.$$("span",{className:"coveo-highlight"},r).el}},e.prototype.renderSummaryInStandardMode=function(t,e){if(e.results.length>0){var n=this.formatSummary(t,e),o=n.query,i=n.highlightFirst,r=n.highlightLast,s=n.highlightTotal,l=n.highlightQuery;this.textContainer.innerHTML=o?u.l("ShowingResultsOfWithQuery",i.outerHTML,r.outerHTML,s.outerHTML,l.outerHTML,e.results.length):u.l("ShowingResultsOf",i.outerHTML,r.outerHTML,s.outerHTML,e.results.length)}},e.prototype.renderSummaryInInfiniteScrollingMode=function(t,e){if(e.results.length>0){var n=this.formatSummary(t,e),o=n.query,i=n.highlightQuery,r=n.highlightTotal;this.textContainer.innerHTML=o?u.l("ShowingResultsWithQuery",r.outerHTML,i.outerHTML,e.results.length):u.l("ShowingResults",r.outerHTML,e.results.length)}},e.prototype.displayInfoOnNoResults=function(){var t,e=this,n=g.escape(this.queryStateModel.get(p.QueryStateModel.attributesEnum.q));""!=n&&(t=l.$$("div",{className:"coveo-query-summary-no-results-string"},u.l("noResultFor",l.$$("span",{className:"coveo-highlight"},n).el.outerHTML)));var o=l.$$("div",{className:"coveo-query-summary-cancel-last"},u.l("CancelLastAction"));o.on("click",function(){e.usageAnalytics.logCustomEvent(h.analyticsActionCauseList.noResultsBack,{},e.root),e.usageAnalytics.logSearchEvent(h.analyticsActionCauseList.noResultsBack,{}),e.lastKnownGoodState?(e.queryStateModel.reset(),e.queryStateModel.setMultiple(e.lastKnownGoodState),l.$$(e.root).trigger(d.QuerySummaryEvents.cancelLastAction),e.queryController.executeQuery()):history.back()});var i=l.$$("div",{className:"coveo-query-summary-search-tips-info"});i.text(u.l("SearchTips"));var r=l.$$("ul"),s=l.$$("li");s.text(u.l("CheckSpelling"));var a=l.$$("li");if(a.text(u.l("TryUsingFewerKeywords")),r.el.appendChild(s.el),r.el.appendChild(a.el),this.queryStateModel.atLeastOneFacetIsActive()){var c=l.$$("li");c.text(u.l("SelectFewerFilters")),r.el.appendChild(c.el)}this.options.enableSearchTips?(t&&this.textContainer.appendChild(t.el),this.textContainer.appendChild(o.el),this.textContainer.appendChild(i.el),this.textContainer.appendChild(r.el)):(t&&this.textContainer.appendChild(t.el),this.textContainer.appendChild(o.el))},e.ID="QuerySummary",e.doExport=function(){m.exportGlobally({QuerySummary:e})},e.options={enableSearchTips:r.ComponentOptions.buildBooleanOption({defaultValue:!0}),onlyDisplaySearchTips:r.ComponentOptions.buildBooleanOption({defaultValue:!1})},e}(i.Component);e.QuerySummary=S,c.Initialization.registerAutoCreateComponent(S)},329:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.cancelLastAction="cancelLastAction",t}();e.QuerySummaryEvents=o},415:function(t,e){}});