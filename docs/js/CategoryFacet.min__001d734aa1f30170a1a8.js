webpackJsonpCoveo__temporary([8],{14:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=function(){function e(){}return e.addClassToSVGInContainer=function(t,a){var r=t.querySelector("svg");r.setAttribute("class",""+e.getClass(r)+a)},e.removeClassFromSVGInContainer=function(t,a){var r=t.querySelector("svg");r.setAttribute("class",e.getClass(r).replace(a,""))},e.addStyleToSVGInContainer=function(e,t){var a=e.querySelector("svg");r.each(t,function(e,t){a.style[t]=e})},e.getClass=function(e){var t=e.getAttribute("class");return t?t+" ":""},e}();t.SVGDom=n},141:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function r(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}(),n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function a(e){return function(t){return r([e,t])}}function r(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=o[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,o=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){c.label=a[1];break}if(6===a[0]&&c.label<i[1]){c.label=i[1],i=a;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(a);break}i[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var n,o,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=a(6),s=a(8),c=a(7),l=a(2),u=a(1),h=a(3),p=a(454),d=a(455),f=a(457),y=a(14),g=a(13),v=a(12);a(458);var m=a(16),b=a(4),C=a(0),S=a(5),E=a(10),F=a(459),V=a(20),R=a(35),$=a(461),w=a(9),A=a(462),P=a(38),O=function(e){function t(a,r,n){var o=e.call(this,a,"CategoryFacet",n)||this;return o.element=a,o.options=r,o.listenToQueryStateChange=!0,o.activePath=[],o.moreValuesToFetch=!0,o.numberOfChildValuesCurrentlyDisplayed=0,o.options=c.ComponentOptions.initComponentOptions(a,t,r),o.activePath=o.options.basePath,o.categoryFacetQueryController=new f.CategoryFacetQueryController(o),o.categoryFacetTemplates=new p.CategoryFacetTemplates,o.categoryValueRoot=new d.CategoryValueRoot(l.$$(o.element),o.categoryFacetTemplates,o),o.categoryValueRoot.path=o.activePath,o.currentPage=0,o.numberOfValues=o.options.numberOfValues,o.options.enableFacetSearch&&(o.categoryFacetSearch=new F.CategoryFacetSearch(o)),o.options.debug&&new A.CategoryFacetDebug(o),o.bind.onRootElement(E.QueryEvents.buildingQuery,function(e){return o.handleBuildingQuery(e)}),o.bind.onRootElement(E.QueryEvents.querySuccess,function(e){return o.handleQuerySuccess(e)}),o.bind.onRootElement(E.QueryEvents.duringQuery,function(){return o.addFading()}),o.bind.onRootElement(E.QueryEvents.deferredQuerySuccess,function(){return o.removeFading()}),o.bind.onRootElement(R.BreadcrumbEvents.populateBreadcrumb,function(e){return o.handlePopulateBreadCrumb(e)}),o.buildFacetHeader(),o.initQueryStateEvents(),o}return r(t,e),t.prototype.handleBuildingQuery=function(e){this.positionInQuery=this.categoryFacetQueryController.putCategoryFacetInQueryBuilder(e.queryBuilder,this.activePath,this.numberOfValues+1)},t.prototype.handleQuerySuccess=function(e){if(b.Utils.isNullOrUndefined(e.results.categoryFacets)||b.Utils.isNullOrUndefined(e.results.categoryFacets[this.positionInQuery]))return void this.notImplementedError();var t=e.query.categoryFacets[this.positionInQuery].maximumNumberOfValues,a=e.results.categoryFacets[this.positionInQuery];if(this.moreValuesToFetch=t==a.values.length,this.clear(),a.notImplemented)return void this.notImplementedError();if(0!=a.values.length||0!=a.parentValues.length?this.renderValues(a,t):this.hide(),this.options.enableFacetSearch){var r=this.categoryFacetSearch.build();l.$$(r).insertAfter(this.categoryValueRoot.listRoot.el)}this.options.enableMoreLess&&this.renderMoreLess(),this.isPristine()||l.$$(this.element).addClass("coveo-category-facet-non-empty-path")},t.prototype.changeActivePath=function(e){var t=this;return this.listenToQueryStateChange=!1,this.queryStateModel.set(this.queryStateAttribute,e),this.listenToQueryStateChange=!0,this.activePath=e,this.showWaitingAnimation(),this.queryController.executeQuery().then(function(e){return t.hideWaitAnimation(),e})},t.prototype.reload=function(){this.changeActivePath(this.activePath)},t.prototype.getVisibleParentValues=function(){return this.getVisibleParentCategoryValues().map(function(e){return e.getDescriptor()})},t.prototype.getVisibleParentCategoryValues=function(){if(0==this.categoryValueRoot.children.length||0==this.categoryValueRoot.children[0].children.length)return[];for(var e=this.categoryValueRoot.children[0],t=[e];0!=e.children.length;)e=e.children[0],t.push(e);return t},t.prototype.showMore=function(){this.moreValuesToFetch&&(this.currentPage++,this.numberOfValues=this.options.numberOfValues+this.currentPage*this.options.pageSize,this.reload())},t.prototype.showLess=function(){this.currentPage>0&&(this.currentPage--,this.numberOfValues=this.options.numberOfValues+this.currentPage*this.options.pageSize,this.reload())},t.prototype.getAvailableValues=function(){return this.activeCategoryValue.children.map(function(e){return{value:e.categoryValueDescriptor.value,count:e.categoryValueDescriptor.count,path:e.path}})},t.prototype.selectValue=function(e){S.Assert.check(C.contains(C.pluck(this.getAvailableValues(),"value"),e),"Failed while trying to select a value that is not available.");var t=this.activePath.slice(0);t.push(e),this.changeActivePath(t)},t.prototype.deselectCurrentValue=function(){if(0!=this.activePath.length){var e=this.activePath.slice(0);e.pop(),this.changeActivePath(e)}},t.prototype.reset=function(){this.changeActivePath(this.options.basePath)},t.prototype.disable=function(){e.prototype.disable.call(this),this.hide()},t.prototype.hide=function(){l.$$(this.element).addClass("coveo-hidden")},t.prototype.show=function(){l.$$(this.element).removeClass("coveo-hidden")},t.prototype.debugValue=function(e){return n(this,void 0,void 0,function(){var t,a;return o(this,function(r){switch(r.label){case 0:return t=new P.QueryBuilder,this.categoryFacetQueryController.addDebugGroupBy(t,e),[4,this.queryController.getEndpoint().search(t.build())];case 1:return a=r.sent(),A.CategoryFacetDebug.analyzeResults(a.groupByResults[0],this.options.delimitingCharacter),[2]}})})},t.prototype.showWaitingAnimation=function(){"hidden"==this.waitElement.el.style.visibility&&(this.waitElement.el.style.visibility="visible")},t.prototype.hideWaitAnimation=function(){"visible"==this.waitElement.el.style.visibility&&(this.waitElement.el.style.visibility="hidden")},t.prototype.logAnalyticsEvent=function(e){this.usageAnalytics.logSearchEvent(e,{categoryFacetId:this.options.id,categoryFacetPath:this.activePath,categoryFacetTitle:this.options.title})},t.prototype.getEndpoint=function(){return this.queryController.getEndpoint()},Object.defineProperty(t.prototype,"children",{get:function(){return this.categoryValueRoot.children},enumerable:!0,configurable:!0}),t.prototype.renderValues=function(e,a){this.show();var r,n=this.sortParentValues(e.parentValues),o=this.categoryValueRoot,i=!1,s=Math.floor(t.NUMBER_OF_VALUES_TO_KEEP_AFTER_TRUNCATING/2),c=Math.ceil(t.NUMBER_OF_VALUES_TO_KEEP_AFTER_TRUNCATING/2);n=this.hideBasePathInParentValues(n),this.shouldTruncate(n)&&(r=this.findPathOfLastTruncatedParentValue(n,c),i=!0,n=C.first(n,s).concat(C.last(n,c))),this.isPristine()||this.addAllCategoriesButton();for(var l=0;l<n.length;l++)o=o.renderAsParent(n[l]),i&&l==s&&this.addEllipsis(o,r,n[l].value);var u=this.moreValuesToFetch?e.values.slice(0,a-1):e.values.slice(0,a);this.numberOfChildValuesCurrentlyDisplayed=u.length,o.renderChildren(u),this.activeCategoryValue=o},t.prototype.hideBasePathInParentValues=function(e){return b.Utils.arrayEqual(C.first(this.activePath,this.options.basePath.length),this.options.basePath)&&(e=C.last(e,e.length-this.options.basePath.length)),e},t.prototype.shouldTruncate=function(e){return e.length>t.MAXIMUM_NUMBER_OF_VALUES_BEFORE_TRUNCATING},t.prototype.addEllipsis=function(e,t,a){this.categoryValueRoot.listRoot.append(this.categoryFacetTemplates.buildEllipsis().el),e.path=t.concat([a])},t.prototype.findPathOfLastTruncatedParentValue=function(e,t){var a=e.length-t-1;return C.reduce(C.first(e,a+1),function(e,t){return e.concat([t.value])},[])},t.prototype.addAllCategoriesButton=function(){var e=this,t=this.categoryFacetTemplates.buildAllCategoriesButton();t.on("click",function(){return e.reset()}),this.categoryValueRoot.listRoot.append(t.el)},t.prototype.isPristine=function(){return b.Utils.arrayEqual(this.activePath,this.options.basePath)},t.prototype.buildFacetHeader=function(){var e=this;this.waitElement=l.$$("div",{className:t.WAIT_ELEMENT_CLASS},g.SVGIcons.icons.loading),y.SVGDom.addClassToSVGInContainer(this.waitElement.el,"coveo-category-facet-header-wait-animation-svg"),this.waitElement.el.style.visibility="hidden";var a=l.$$("div",{className:"coveo-category-facet-title"},this.options.title);this.facetHeader=l.$$("div",{className:"coveo-category-facet-header"},a),l.$$(this.element).prepend(this.facetHeader.el),this.facetHeader.append(this.waitElement.el);var r=l.$$("div",{title:s.l("Clear",this.options.title),className:"coveo-category-facet-header-eraser coveo-facet-header-eraser"},g.SVGIcons.icons.mainClear);y.SVGDom.addClassToSVGInContainer(r.el,"coveo-facet-header-eraser-svg"),r.on("click",function(){e.logAnalyticsEvent(w.analyticsActionCauseList.categoryFacetClear),e.reset()}),this.facetHeader.append(r.el)},t.prototype.handleQueryStateChanged=function(e){if(this.listenToQueryStateChange){var t=e.attributes[this.queryStateAttribute];!b.Utils.isNullOrUndefined(t)&&C.isArray(t)&&0!=t.length&&(this.activePath=t)}},t.prototype.initQueryStateEvents=function(){var e=this;this.queryStateAttribute=v.QueryStateModel.getCategoryFacetId(this.options.id),this.queryStateModel.registerNewAttribute(v.QueryStateModel.getCategoryFacetId(this.options.id),this.options.basePath),this.bind.onQueryState(m.MODEL_EVENTS.CHANGE,void 0,function(t){return e.handleQueryStateChanged(t)})},t.prototype.addFading=function(){l.$$(this.element).addClass("coveo-category-facet-values-fade")},t.prototype.removeFading=function(){l.$$(this.element).removeClass("coveo-category-facet-values-fade")},t.prototype.notImplementedError=function(){this.logger.error("Category Facets are not supported by your current search endpoint. Disabling this component."),this.disable()},t.prototype.sortParentValues=function(e){if(this.activePath.length!=e.length)return this.logger.warn("Inconsistent CategoryFacet results: Number of parent values results does not equal length of active path"),e;for(var t=[],a=this,r=0,n=this.activePath;r<n.length;r++){var o=n[r],i=function(r){var n=C.find(e,function(e){return e.value.toLowerCase()==r.toLowerCase()});if(!n)return a.logger.warn("Inconsistent CategoryFacet results: path not consistent with parent values results"),{value:e};t.push(n)}(o);if("object"==typeof i)return i.value}return t},t.prototype.renderMoreLess=function(){this.moreLessContainer=l.$$("div",{className:"coveo-category-facet-more-less-container"}),l.$$(this.element).append(this.moreLessContainer.el),this.numberOfChildValuesCurrentlyDisplayed>this.options.numberOfValues&&this.moreLessContainer.append(this.buildLessButton()),this.moreValuesToFetch&&this.moreLessContainer.append(this.buildMoreButton())},t.prototype.clear=function(){this.categoryValueRoot.clear(),this.categoryFacetSearch.clear(),this.moreLessContainer&&this.moreLessContainer.detach(),l.$$(this.element).removeClass("coveo-category-facet-non-empty-path")},t.prototype.buildMoreButton=function(){var e=this,t=l.$$("span",{className:"coveo-facet-more-icon"},g.SVGIcons.icons.arrowDown).el;y.SVGDom.addClassToSVGInContainer(t,"coveo-facet-more-icon-svg");var a=l.$$("div",{className:"coveo-category-facet-more",tabindex:0},t),r=function(){return e.showMore()};return a.on("click",function(){return e.showMore()}),a.on("keyup",V.KeyboardUtils.keypressAction(V.KEYBOARD.ENTER,r)),a.el},t.prototype.buildLessButton=function(){var e=this,t=l.$$("span",{className:"coveo-facet-less-icon"},g.SVGIcons.icons.arrowUp).el;y.SVGDom.addClassToSVGInContainer(t,"coveo-facet-less-icon-svg");var a=l.$$("div",{className:"coveo-category-facet-less",tabIndex:0},t),r=function(){return e.showLess()};return a.on("click",r),a.on("keyup",V.KeyboardUtils.keypressAction(V.KEYBOARD.ENTER,r)),a.el},t.prototype.handlePopulateBreadCrumb=function(e){var t=this,a=this.getVisibleParentValues().pop();if(!this.isPristine()&&a){var r=function(){t.logAnalyticsEvent(w.analyticsActionCauseList.breadcrumbFacet),t.reset()},n=new $.CategoryFacetBreadcrumb(this.options.title,r,a);e.breadcrumbs.push({element:n.build()})}},t.doExport=function(){h.exportGlobally({CategoryFacet:t})},t.ID="CategoryFacet",t.options={field:c.ComponentOptions.buildFieldOption({required:!0}),title:c.ComponentOptions.buildLocalizedStringOption({defaultValue:s.l("NoTitle")}),numberOfValues:c.ComponentOptions.buildNumberOption({defaultValue:5,min:0,section:"CommonOptions"}),enableFacetSearch:c.ComponentOptions.buildBooleanOption({defaultValue:!0}),id:c.ComponentOptions.buildStringOption({postProcessing:function(e,t){return e||t.field}}),injectionDepth:c.ComponentOptions.buildNumberOption({defaultValue:1e3,min:0}),numberOfResultsInFacetSearch:c.ComponentOptions.buildNumberOption({defaultValue:15,min:1}),facetSearchDelay:c.ComponentOptions.buildNumberOption({defaultValue:100,min:0}),enableMoreLess:c.ComponentOptions.buildBooleanOption({defaultValue:!0}),pageSize:c.ComponentOptions.buildNumberOption({defaultValue:10,min:1,depend:"enableMoreLess"}),delimitingCharacter:c.ComponentOptions.buildStringOption({defaultValue:"|"}),basePath:c.ComponentOptions.buildListOption({defaultValue:[]}),maximumDepth:c.ComponentOptions.buildNumberOption({min:1,defaultValue:Number.MAX_VALUE}),debug:c.ComponentOptions.buildBooleanOption({defaultValue:!1})},t.WAIT_ELEMENT_CLASS="coveo-category-facet-header-wait-animation",t.MAXIMUM_NUMBER_OF_VALUES_BEFORE_TRUNCATING=15,t.NUMBER_OF_VALUES_TO_KEEP_AFTER_TRUNCATING=10,t}(i.Component);t.CategoryFacet=O,u.Initialization.registerAutoCreateComponent(O),O.doExport()},149:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=function(){function e(){}return e.addPrefixedEvent=function(e,t,a){r.each(this.prefixes,function(r){""==r&&(t=t.toLowerCase()),e.addEventListener(r+t,a,!1)})},e.removePrefixedEvent=function(e,t,a){r.each(this.prefixes,function(r){""==r&&(t=t.toLowerCase()),e.removeEventListener(r+t,a,!1)})},e.prefixes=["webkit","moz","MS","o",""],e}();t.EventsUtils=n},312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Legacy="legacy",e.Wildcards="wildcards",e.Regex="regex",e.EditDistance="editdistance",e.Phonetic="phonetic"}(t.AllowedValuesPatternType||(t.AllowedValuesPatternType={}))},313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),n=a(13),o=a(14),i=a(6),s=a(8),c=a(149),l=a(49),u=a(337),h=a(0),p=function(){function e(e){var t=this;this.facetSearch=e,this.searchBarIsAnimating=!1,this.triggeredScroll=!1,this.facetSearchUserInputHandler=new u.FacetSearchUserInputHandler(this.facetSearch),this.searchResults=r.$$("ul",{className:"coveo-facet-search-results"}).el,r.$$(this.searchResults).on("scroll",function(){return t.handleScrollEvent()}),r.$$(this.searchResults).hide()}return e.prototype.build=function(e){var t=this;this.search=document.createElement("div"),r.$$(this.search).addClass("coveo-facet-search"),this.magnifier=this.buildMagnifierIcon(),this.search.appendChild(this.magnifier),this.wait=this.buildWaitIcon(),this.search.appendChild(this.wait),this.hideFacetSearchWaitingAnimation(),this.clear=r.$$("div",{className:"coveo-facet-search-clear",title:s.l("Clear",s.l("Search"))},n.SVGIcons.icons.checkboxHookExclusionMore).el,o.SVGDom.addClassToSVGInContainer(this.clear,"coveo-facet-search-clear-svg"),this.clear.style.display="none",this.search.appendChild(this.clear);var a=document.createElement("div");return r.$$(a).addClass("coveo-facet-search-middle"),this.search.appendChild(a),this.input=this.buildInputElement(),i.Component.pointElementsToDummyForm(this.input),a.appendChild(this.input),r.$$(this.input).on("keyup",function(e){t.facetSearchUserInputHandler.handleKeyboardEvent(e)}),r.$$(this.clear).on("click",function(t){e&&e()}),r.$$(this.input).on("focus",function(e){t.handleFacetSearchFocus()}),this.detectSearchBarAnimation(),this.search},e.prototype.showFacetSearchWaitingAnimation=function(){this.magnifier&&r.$$(this.magnifier).hide(),r.$$(this.wait).show()},e.prototype.getValueInInputForFacetSearch=function(){return this.input.value.trim()},e.prototype.hideFacetSearchWaitingAnimation=function(){r.$$(this.magnifier).show(),r.$$(this.wait).hide()},e.prototype.detectSearchBarAnimation=function(){var e=this;c.EventsUtils.addPrefixedEvent(this.search,"AnimationStart",function(t){"grow"==t.animationName&&(e.searchBarIsAnimating=!0)}),c.EventsUtils.addPrefixedEvent(this.search,"AnimationEnd",function(t){"grow"==t.animationName&&(e.searchBarIsAnimating=!1)})},e.prototype.positionSearchResults=function(t,a,n){var o=this;if(null!=this.searchResults){t.appendChild(this.searchResults),this.searchResults.style.display="block",this.searchResults.style.width=a-e.FACET_SEARCH_PADDING+"px","none"==r.$$(this.searchResults).css("display")&&(this.searchResults.style.display="");"none"==r.$$(this.search).css("display")||this.searchBarIsAnimating?("none"==r.$$(this.searchResults).css("display")&&(this.searchResults.style.display=""),c.EventsUtils.addPrefixedEvent(this.search,"AnimationEnd",function(){o.positionPopUp(n,t),c.EventsUtils.removePrefixedEvent(o.search,"AnimationEnd",o)})):this.positionPopUp(n,t)}},e.prototype.setAsCurrentResult=function(e){this.currentResult&&this.currentResult.removeClass("coveo-facet-search-current-result"),this.currentResult=e,e.addClass("coveo-facet-search-current-result")},e.prototype.moveCurrentResultDown=function(){var e=this.currentResult.el.nextElementSibling;e||(e=h.first(this.searchResults.children)),this.setAsCurrentResult(r.$$(e)),this.highlightAndShowCurrentResultWithKeyboard()},e.prototype.moveCurrentResultUp=function(){var e=this.currentResult.el.previousElementSibling;e||(e=h.last(this.searchResults.children)),this.setAsCurrentResult(r.$$(e)),this.highlightAndShowCurrentResultWithKeyboard()},e.prototype.highlightCurrentQueryInSearchResults=function(e){this.facetSearch.getCaptions().forEach(function(t){t.innerHTML=r.$$(t).text().replace(e,'<span class="coveo-highlight">$1</span>')})},e.prototype.appendToSearchResults=function(e){this.searchResults.appendChild(e),this.setupFacetSearchResultsEvents(e)},e.prototype.focus=function(){this.input.focus(),this.handleFacetSearchFocus()},e.prototype.highlightAndShowCurrentResultWithKeyboard=function(){this.currentResult.addClass("coveo-facet-search-current-result"),this.triggeredScroll=!0,this.searchResults.scrollTop=this.currentResult.el.offsetTop},e.prototype.handleFacetSearchFocus=function(){null==this.facetSearch.currentlyDisplayedResults&&this.facetSearch.displayNewValues()},e.prototype.setupFacetSearchResultsEvents=function(e){var t=this;r.$$(e).on("mousemove",function(){t.setAsCurrentResult(r.$$(e))});var a=!1,n=!1;r.$$(e).on("mousedown",function(){return n=!1}),r.$$(e).on("mousemove",function(){return n=!0}),r.$$(e).on("touchmove",function(){return a=!0}),r.$$(e).on("mouseup touchend",function(){a||n||setTimeout(function(){t.facetSearch.dismissSearchResults()},0),a=!1,n=!1})},e.prototype.hideSearchResultsElement=function(){r.$$(this.searchResults).hide()},e.prototype.clearSearchInput=function(){this.input&&(this.input.value="")},e.prototype.buildMagnifierIcon=function(){var e=document.createElement("div");return e.innerHTML=n.SVGIcons.icons.search,r.$$(e).addClass("coveo-facet-search-magnifier"),o.SVGDom.addClassToSVGInContainer(e,"coveo-facet-search-magnifier-svg"),this.search.appendChild(e),e},e.prototype.buildWaitIcon=function(){var e=document.createElement("div");return e.innerHTML=n.SVGIcons.icons.loading,r.$$(e).addClass("coveo-facet-search-wait-animation"),o.SVGDom.addClassToSVGInContainer(e,"coveo-facet-search-wait-animation-svg"),e},e.prototype.buildInputElement=function(){return r.$$("input",{className:"coveo-facet-search-input",type:"test",autocapitalize:"off",autocorrect:"off"}).el},e.prototype.positionPopUp=function(e,t){l.PopupUtils.positionPopup(this.searchResults,e,t,{horizontal:l.PopupHorizontalAlignment.CENTER,vertical:l.PopupVerticalAlignment.BOTTOM})},e.prototype.handleScrollEvent=function(){this.triggeredScroll?this.triggeredScroll=!1:this.facetSearchUserInputHandler.handleFacetSearchResultsScroll()},e.FACET_SEARCH_PADDING=40,e}();t.FacetSearchElement=p},335:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(456),n=a(0),o=function(){function e(e,t,a,r){this.element=e,this.categoryFacetTemplates=t,this.categoryValue=a,this.categoryFacet=r,this.children=[]}return e.prototype.clearChildren=function(){this.element.removeClass("coveo-active-category-facet-parent"),this.children.forEach(function(e){e.clear()}),this.children=[]},e.prototype.renderChildren=function(e){var t=this;n.each(e,function(e){t.renderValue(e,!0)})},e.prototype.renderAsParent=function(e){var t=this.renderValue(e,!1);return t.showCollapseArrow(),t},e.prototype.renderValue=function(e,t){var a=this.categoryValue.path.concat([e.value]),n={value:e.value,count:e.numberOfResults,path:a},o=new r.CategoryValue(this.categoryValue.listRoot,n,this.categoryFacetTemplates,this.categoryFacet);return o.render(t),this.children.push(o),o},e}();t.CategoryChildrenValueRenderer=o},337:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(20),n=function(){function e(e){this.facetSearch=e}return e.prototype.handleKeyboardEvent=function(e){switch(e.which){case r.KEYBOARD.ENTER:this.facetSearch.keyboardNavigationEnterPressed(e);break;case r.KEYBOARD.DELETE:this.facetSearch.keyboardNavigationDeletePressed&&this.facetSearch.keyboardNavigationDeletePressed(e);break;case r.KEYBOARD.ESCAPE:this.facetSearch.dismissSearchResults();break;case r.KEYBOARD.DOWN_ARROW:this.facetSearch.facetSearchElement.moveCurrentResultDown();break;case r.KEYBOARD.UP_ARROW:this.facetSearch.facetSearchElement.moveCurrentResultUp();break;default:this.facetSearch.keyboardEventDefaultHandler()}},e.prototype.handleFacetSearchResultsScroll=function(){if(!this.facetSearch.facetSearchPromise&&""==this.facetSearch.facetSearchElement.getValueInInputForFacetSearch()&&this.facetSearch.moreValuesToFetch){var e=this.facetSearch.facetSearchElement.searchResults.clientHeight;this.facetSearch.facetSearchElement.searchResults.scrollHeight-(this.facetSearch.facetSearchElement.searchResults.scrollTop+e)<e/2&&this.facetSearch.fetchMoreValues()}},e}();t.FacetSearchUserInputHandler=n},454:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),n=a(13),o=a(14),i=a(0),s=a(8),c=function(){function e(){this.listRoot=r.$$("ul",{className:"coveo-category-facet-values"}),this.collapseArrow=r.$$("span",{className:"coveo-category-facet-collapse-children"},n.SVGIcons.icons.arrowDown),o.SVGDom.addClassToSVGInContainer(this.collapseArrow.el,"coveo-category-facet-collapse-children-svg")}return e.prototype.buildListRoot=function(){return this.listRoot.clone(!0)},e.prototype.buildListElement=function(e){var t=r.$$("div",{},this.createListElement(e));return r.$$(t.el.firstChild)},e.prototype.buildAllCategoriesButton=function(){var e=r.$$("span",{className:"coveo-category-facet-all-categories-caption"},s.l("AllCategories"));return r.$$("li",{className:"coveo-category-facet-value coveo-category-facet-all-categories"},this.buildCollapseArrow(),e)},e.prototype.buildEllipsis=function(){var e=r.$$("span",{className:"coveo-category-facet-ellipsis-caption"},"[ ... ]");return r.$$("li",{className:"coveo-category-facet-ellipsis"},e)},e.prototype.buildCollapseArrow=function(){return this.collapseArrow.clone(!0)},e.prototype.createListElement=function(e){return'<li class="coveo-category-facet-value">\n        <label class="coveo-category-facet-value-label">\n          <span title="'+i.escape(e.value)+'" class="coveo-category-facet-value-caption">'+i.escape(e.value)+'</span>\n          <span class="coveo-category-facet-value-count">'+e.count+"</span>\n        </label>\n      </li>"},e}();t.CategoryFacetTemplates=c},455:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(335),n=function(){function e(e,t,a){this.element=e,this.path=[],this.categoryChildrenValueRenderer=new r.CategoryChildrenValueRenderer(e,t,this,a),this.listRoot=t.buildListRoot(),this.appendListRoot()}return e.prototype.renderChildren=function(e){this.appendListRoot(),this.categoryChildrenValueRenderer.renderChildren(e)},e.prototype.renderAsParent=function(e){return this.appendListRoot(),this.categoryChildrenValueRenderer.renderAsParent(e)},Object.defineProperty(e.prototype,"children",{get:function(){return this.categoryChildrenValueRenderer.children},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.listRoot.detach(),this.listRoot.empty(),this.categoryChildrenValueRenderer.clearChildren()},e.prototype.appendListRoot=function(){this.element.append(this.listRoot.el)},e}();t.CategoryValueRoot=n},456:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),n=a(335),o=a(9),i=function(){function e(e,t,a,o){var i=this;this.listRoot=e,this.categoryValueDescriptor=t,this.categoryFacetTemplates=a,this.categoryFacet=o,this.isActive=!1,this.element=this.categoryFacetTemplates.buildListElement({value:this.categoryValueDescriptor.value,count:this.categoryValueDescriptor.count}),this.label=r.$$(this.element.find(".coveo-category-facet-value-label")),this.collapseArrow=this.categoryFacetTemplates.buildCollapseArrow(),this.categoryChildrenValueRenderer=new n.CategoryChildrenValueRenderer(this.element,a,this,this.categoryFacet),this.label.one("click",function(){return i.onLabelClick()}),this.path=this.categoryValueDescriptor.path}return e.prototype.render=function(e){this.pastMaximumDepth()&&this.element.addClass("coveo-category-facet-last-value"),e?this.element.addClass("coveo-category-facet-child-value"):this.element.addClass("coveo-category-facet-parent-value"),this.listRoot.append(this.element.el)},e.prototype.getDescriptor=function(){return{value:this.categoryValueDescriptor.value,count:this.categoryValueDescriptor.count,path:this.path}},e.prototype.clear=function(){this.element.detach(),this.categoryChildrenValueRenderer.clearChildren()},e.prototype.renderChildren=function(e){this.isActive=!0,this.element.addClass("coveo-active-category-facet-parent"),this.categoryChildrenValueRenderer.renderChildren(e)},e.prototype.renderAsParent=function(e){return this.categoryChildrenValueRenderer.renderAsParent(e)},Object.defineProperty(e.prototype,"children",{get:function(){return this.categoryChildrenValueRenderer.children},enumerable:!0,configurable:!0}),e.prototype.showCollapseArrow=function(){if(!this.collapseArrow.el.parentElement){var e=this.element.find("label");r.$$(e).prepend(this.collapseArrow.el)}},e.prototype.onLabelClick=function(){this.pastMaximumDepth()||(this.categoryFacet.logAnalyticsEvent(o.analyticsActionCauseList.categoryFacetSelect),this.categoryFacet.changeActivePath(this.path))},e.prototype.pastMaximumDepth=function(){return this.path.length-this.categoryFacet.options.basePath.length>=this.categoryFacet.options.maximumDepth},e}();t.CategoryValue=i},457:function(e,t,a){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function a(e){return function(t){return r([e,t])}}function r(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=o[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,o=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){c.label=a[1];break}if(6===a[0]&&c.label<i[1]){c.label=i[1],i=a;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(a);break}i[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var n,o,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=a(312),s=a(4),c=function(){function e(e){this.categoryFacet=e}return e.prototype.putCategoryFacetInQueryBuilder=function(e,t,a){var r=e.categoryFacets.length;0!=t.length&&e.advancedExpression.addFieldExpression(this.categoryFacet.options.field,"==",[t.join(this.categoryFacet.options.delimitingCharacter)]);var n={field:this.categoryFacet.options.field,path:t,injectionDepth:this.categoryFacet.options.injectionDepth,maximumNumberOfValues:a,delimitingCharacter:this.categoryFacet.options.delimitingCharacter};return e.categoryFacets.push(n),r},e.prototype.searchFacetValues=function(e,t){return n(this,void 0,void 0,function(){var a,n,s;return o(this,function(o){switch(o.label){case 0:return a=r({},this.categoryFacet.queryController.getLastQuery()),n={allowedValues:["*"+e+"*"],allowedValuesPatternType:i.AllowedValuesPatternType.Wildcards,maximumNumberOfValues:t,field:this.categoryFacet.options.field,sortCriteria:"occurrences",injectionDepth:this.categoryFacet.options.injectionDepth},a.groupBy=[n],a.categoryFacets.splice(this.categoryFacet.positionInQuery,1),[4,this.categoryFacet.queryController.getEndpoint().search(a)];case 1:return s=o.sent(),[2,s.groupByResults[0].values]}})})},e.prototype.addDebugGroupBy=function(e,t){e.groupByRequests.push({field:this.categoryFacet.options.field,allowedValues:[".*"+s.Utils.escapeRegexCharacter(t)+".*"],allowedValuesPatternType:i.AllowedValuesPatternType.Regex})},e}();t.CategoryFacetQueryController=c},458:function(e,t){},459:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(n,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(i,s)}c((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function a(e){return function(t){return r([e,t])}}function r(a){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=o[2&a[0]?"return":a[0]?"throw":"next"])&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[0,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++,o=a[1],a=[0];continue;case 7:a=c.ops.pop(),c.trys.pop();continue;default:if(i=c.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){c.label=a[1];break}if(6===a[0]&&c.label<i[1]){c.label=i[1],i=a;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(a);break}i[2]&&c.ops.pop(),c.trys.pop();continue}a=t.call(e,c)}catch(e){a=[6,e],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var n,o,i,s,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var o=a(313),i=a(0),s=a(2),c=a(14),l=a(13),u=a(8);a(460);var h=a(18),p=a(9),d=function(){function e(e){var t=this;this.categoryFacet=e,this.moreValuesToFetch=!0,this.facetSearchElement=new o.FacetSearchElement(this),this.displayNewValues=i.debounce(this.getDisplayNewValuesFunction(),this.categoryFacet.options.facetSearchDelay),this.categoryFacet.root.addEventListener("click",function(e){return t.handleClickElsewhere(e)}),this.numberOfValuesToFetch=this.categoryFacet.options.numberOfResultsInFacetSearch}return e.prototype.build=function(){this.container=s.$$("div",{className:"coveo-category-facet-search-container"});var e=this.facetSearchElement.build(),t=this.buildfacetSearchPlaceholder();return this.container.append(e),this.container.append(t.el),this.container},e.prototype.focus=function(){this.facetSearchElement.focus()},e.prototype.clear=function(){this.dismissSearchResults(),this.container&&this.container.detach()},e.prototype.dismissSearchResults=function(){this.removeNoResultsCssClasses(),s.$$(this.categoryFacet.element).removeClass("coveo-category-facet-searching"),s.$$(this.facetSearchElement.searchResults).empty(),this.facetSearchElement.clearSearchInput(),this.facetSearchElement.hideSearchResultsElement(),this.currentlyDisplayedResults=null,this.numberOfValuesToFetch=this.categoryFacet.options.numberOfResultsInFacetSearch,this.moreValuesToFetch=!0},e.prototype.keyboardEventDefaultHandler=function(){this.moreValuesToFetch=!0,this.displayNewValues()},e.prototype.keyboardNavigationEnterPressed=function(){this.selectCurrentResult()},e.prototype.fetchMoreValues=function(){this.numberOfValuesToFetch+=this.categoryFacet.options.numberOfResultsInFacetSearch,this.displayNewValues()},e.prototype.getCaptions=function(){var e=s.$$(this.facetSearchElement.searchResults);return e.findAll(".coveo-category-facet-search-value-caption").concat(e.findAll(".coveo-category-facet-search-path-parents")).concat(e.findAll(".coveo-category-facet-search-path-last-value"))},e.prototype.selectCurrentResult=function(){if(this.facetSearchElement.currentResult){var e=this.facetSearchElement.currentResult.el.dataset.path,t=this.categoryFacet.options.delimitingCharacter;this.categoryFacet.changeActivePath(e.split(t))}},e.prototype.handleClickElsewhere=function(e){s.$$(e.target).closest(".coveo-category-facet-search-container")||this.dismissSearchResults()},e.prototype.buildfacetSearchPlaceholder=function(){var e=this,t=s.$$("div",{className:"coveo-category-facet-search-placeholder"});t.on("click",function(){s.$$(e.categoryFacet.element).addClass("coveo-category-facet-searching"),e.focus()});var a=s.$$("div",{className:"coveo-category-facet-search-icon"},l.SVGIcons.icons.checkboxHookExclusionMore);c.SVGDom.addClassToSVGInContainer(a.el,"coveo-category-facet-search-icon-svg");var r=s.$$("span",{className:"coveo-category-facet-search-label"},u.l("Search"));return t.append(a.el),t.append(r.el),t},e.prototype.getDisplayNewValuesFunction=function(){var e=this;return function(){return r(e,void 0,void 0,function(){var e;return n(this,function(t){switch(t.label){case 0:return this.facetSearchElement.showFacetSearchWaitingAnimation(),this.categoryFacet.logger.info("Triggering new Category Facet search"),[4,this.categoryFacet.categoryFacetQueryController.searchFacetValues(this.facetSearchElement.input.value,this.numberOfValuesToFetch)];case 1:return e=t.sent(),(this.logAnalyticsEvent(),e.length<this.numberOfValuesToFetch&&(this.moreValuesToFetch=!1),0==e.length)?(this.noFacetSearchResults(),[2]):(this.removeNoResultsCssClasses(),this.setFacetSearchResults(e),this.facetSearchElement.positionSearchResults(this.categoryFacet.root,this.categoryFacet.element.clientWidth,this.facetSearchElement.search),this.facetSearchElement.hideFacetSearchWaitingAnimation(),[2])}})})}},e.prototype.setFacetSearchResults=function(e){s.$$(this.facetSearchElement.searchResults).empty(),this.currentlyDisplayedResults=i.pluck(e,"value");for(var t=0;t<e.length;t++){var a=this.buildFacetSearchValue(e[t]);0==t&&this.facetSearchElement.setAsCurrentResult(a),this.facetSearchElement.appendToSearchResults(a.el)}this.highlightCurrentQueryWithinSearchResults()},e.prototype.buildFacetSearchValue=function(e){var t=this,a=e.value.split(this.categoryFacet.options.delimitingCharacter),r=a.length>1?i.last(a):"",n=0!=a.slice(0,-1).length?a.slice(0,-1).join("/")+"/":"",o=s.$$("span",{className:"coveo-category-facet-search-value-caption"},i.last(a)),c=s.$$("span",{className:"coveo-category-facet-search-value-number"},e.numberOfResults.toString(10)),l=s.$$("span",{className:"coveo-category-facet-search-path-parents"},n),u=s.$$("span",{className:"coveo-category-facet-search-path-last-value"},r),h=s.$$("span",{className:"coveo-category-facet-search-path"},l,u),p=s.$$("div",{className:"coveo-category-facet-search-first-row"},o,c),d=s.$$("div",{className:"coveo-category-facet-search-second-row"},h),f=s.$$("li",{className:"coveo-category-facet-search-value"},p,d);return f.el.dataset.path=e.value,f.on("click",function(){t.categoryFacet.changeActivePath(e.value.split(t.categoryFacet.options.delimitingCharacter))}),f},e.prototype.noFacetSearchResults=function(){this.facetSearchElement.hideFacetSearchWaitingAnimation(),this.facetSearchElement.hideSearchResultsElement(),s.$$(this.facetSearchElement.search).addClass("coveo-facet-search-no-results"),s.$$(this.categoryFacet.element).addClass("coveo-no-results")},e.prototype.removeNoResultsCssClasses=function(){this.facetSearchElement.search&&s.$$(this.facetSearchElement.search).removeClass("coveo-facet-search-no-results"),s.$$(this.categoryFacet.element).removeClass("coveo-no-results")},e.prototype.highlightCurrentQueryWithinSearchResults=function(){var e=new RegExp("("+h.StringUtils.stringToRegex(this.facetSearchElement.input.value,!0)+")","ig");this.facetSearchElement.highlightCurrentQueryInSearchResults(e)},e.prototype.logAnalyticsEvent=function(){this.categoryFacet.usageAnalytics.logCustomEvent(p.analyticsActionCauseList.categoryFacetSearch,{categoryFacetId:this.categoryFacet.options.id,categoryFacetTitle:this.categoryFacet.options.title},this.categoryFacet.root)},e}();t.CategoryFacetSearch=d},460:function(e,t){},461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),n=a(14),o=a(13),i=function(){function e(e,t,a){this.categoryFacetTitle=e,this.onClickHandler=t,this.categoryValueDescriptor=a}return e.prototype.build=function(){var e=r.$$("span",{className:"coveo-facet-breadcrumb-clear"},o.SVGIcons.icons.checkboxHookExclusionMore);n.SVGDom.addClassToSVGInContainer(e.el,"coveo-facet-breadcrumb-clear-svg");var t=this.categoryValueDescriptor.value+" "+this.categoryValueDescriptor.count,a=r.$$("span",{className:"coveo-category-facet-breadcrumb-title"},this.categoryFacetTitle+": "),i=r.$$("span",{className:"coveo-category-facet-breadcrumb-values"},this.categoryValueDescriptor.path.join("/"),e),s=r.$$("span",{className:"coveo-category-facet-breadcrumb",title:t},a,i);return s.on("click",this.onClickHandler),s.el},e}();t.CategoryFacetBreadcrumb=i},462:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(141),n=a(10),o=a(0),i=a(11),s=(function(){function e(){}}(),function(){function e(e){var t=this;this.categoryFacet=e,this.categoryFacet.bind.onRootElement(n.QueryEvents.buildingQuery,function(e){return t.handleBuildingQuery(e)}),this.categoryFacet.bind.onRootElement(n.QueryEvents.querySuccess,function(e){t.handleQuerySuccess(e)})}return e.prototype.handleBuildingQuery=function(e){var t=e.queryBuilder.groupByRequests.length;if(0==this.categoryFacet.activePath.length)this.positionInQuery={start:t,end:t+1},this.addGroupByForEmptyPath(e.queryBuilder);else{var a=this.categoryFacet.activePath;this.positionInQuery={start:t,end:t+a.length},this.addGroupByForEachPathElement(e.queryBuilder,a)}},e.prototype.handleQuerySuccess=function(t){var a=this;t.results.groupByResults.slice(this.positionInQuery.start,this.positionInQuery.end).forEach(function(t){return e.analyzeResults(t,a.categoryFacet.options.delimitingCharacter)})},e.prototype.addGroupByForEmptyPath=function(e){e.groupByRequests.push({field:this.categoryFacet.options.field,injectionDepth:this.categoryFacet.options.injectionDepth})},e.prototype.addGroupByForEachPathElement=function(e,t){var a=this;t.forEach(function(t){a.categoryFacet.categoryFacetQueryController.addDebugGroupBy(e,t)})},e.analyzeResults=function(e,t){var a=this,r=new Map,n=[],i=this.buildPathsFromGroupByValues(e.values,t);return i=o.sortBy(i,function(e){return e.length}),i.forEach(function(e){if(1==e.length)a.addFirstNodeToTree(r,e);else{for(var o=!0,i=e.slice(0,-1),s=r,c=0,l=i;c<l.length;c++){var u=l[c];if(!(s=s.get(u))){a.processOrphan(n,e,t),o=!1;break}}o&&a.addValidNodeToTree(s,e)}}),n},e.buildPathsFromGroupByValues=function(e,t){return o.chain(e).pluck("value").map(function(e){return e.split(t)}).sortBy(function(e){return e.length}).value()},e.addFirstNodeToTree=function(e,t){e.set(t[0],new Map)},e.addValidNodeToTree=function(e,t){e.set(t.slice(-1)[0],new Map)},e.processOrphan=function(e,t,a){var r=t.join(a);e.push(r),this.logger.error("Value "+r+" has no parent.")},e.logger=new i.Logger(r.CategoryFacet),e}());t.CategoryFacetDebug=s}});