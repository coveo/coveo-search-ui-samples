webpackJsonpCoveo__temporary([31],{14:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=function(){function t(){}return t.addClassToSVGInContainer=function(e,n){var o=e.querySelector("svg");o.setAttribute("class",""+t.getClass(o)+n)},t.removeClassFromSVGInContainer=function(e,n){var o=e.querySelector("svg");o.setAttribute("class",t.getClass(o).replace(n,""))},t.addStyleToSVGInContainer=function(t,e){var n=t.querySelector("svg");o.each(e,function(t,e){n.style[e]=t})},t.getClass=function(t){var e=t.getAttribute("class");return e?e+" ":""},t}();e.SVGDom=i},17:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(11),i=n(30),r=n(1);n(371);var s=function(){function t(){this.logger=new o.Logger(this)}return t.prototype.withOwner=function(t){return this.eventOwner=t,this},t.prototype.withElement=function(t){return t instanceof HTMLElement?this.element=r.$$(t):this.element=t,this},t.prototype.withLabel=function(t){return this.label=t,this},t.prototype.withTitle=function(t){return this.title=t,this},t.prototype.withSelectAction=function(t){return this.clickAction=t,this.enterKeyboardAction=t,this},t.prototype.withClickAction=function(t){return this.clickAction=t,this},t.prototype.withEnterKeyboardAction=function(t){return this.enterKeyboardAction=t,this},t.prototype.withFocusAndMouseEnterAction=function(t){return this.focusAction=t,this.mouseenterAction=t,this},t.prototype.withFocusAction=function(t){return this.focusAction=t,this},t.prototype.withMouseEnterAction=function(t){return this.mouseenterAction=t,this},t.prototype.withBlurAndMouseLeaveAction=function(t){return this.mouseleaveAction=t,this.blurAction=t,this},t.prototype.withMouseLeaveAction=function(t){return this.mouseleaveAction=t,this},t.prototype.withBlurAction=function(t){return this.blurAction=t,this},t.prototype.build=function(){return this.element||(this.element=r.$$("div")),this.ensureCorrectRole(),this.ensureCorrectLabel(),this.ensureTitle(),this.ensureSelectAction(),this.ensureUnselectAction(),this.ensureMouseenterAndFocusAction(),this.ensureMouseleaveAndBlurAction(),this.ensureDifferentiationBetweenKeyboardAndMouseFocus(),this},t.prototype.ensureDifferentiationBetweenKeyboardAndMouseFocus=function(){var t=this,e="coveo-accessible-button-pressed",n="coveo-accessible-button-focused";r.$$(this.element).addClass("coveo-accessible-button"),r.$$(this.element).on("mousedown",function(){r.$$(t.element).addClass(e),r.$$(t.element).removeClass(n)}),r.$$(this.element).on("mouseup",function(){return r.$$(t.element).removeClass(e)}),r.$$(this.element).on("focus",function(){r.$$(t.element).hasClass(e)||r.$$(t.element).addClass(n)}),r.$$(this.element).on("blur",function(){return r.$$(t.element).removeClass(n)})},t.prototype.ensureCorrectRole=function(){this.element.getAttribute("role")||this.element.setAttribute("role","button")},t.prototype.ensureCorrectLabel=function(){if(!this.label)return void this.logger.error("Missing label to create an accessible button !");this.element.setAttribute("aria-label",this.label)},t.prototype.ensureTitle=function(){this.title&&this.element.setAttribute("title",this.title)},t.prototype.ensureTabIndex=function(){this.element.setAttribute("tabindex","0")},t.prototype.ensureSelectAction=function(){var t=this;this.enterKeyboardAction&&(this.ensureTabIndex(),this.bindEvent("keyup",i.KeyboardUtils.keypressAction(i.KEYBOARD.ENTER,function(e){return t.enterKeyboardAction(e)}))),this.clickAction&&this.bindEvent("click",this.clickAction)},t.prototype.ensureUnselectAction=function(){this.blurAction&&this.bindEvent("blur",this.blurAction),this.mouseleaveAction&&this.bindEvent("mouseleave",this.mouseleaveAction)},t.prototype.ensureMouseenterAndFocusAction=function(){this.mouseenterAction&&this.bindEvent("mouseenter",this.mouseenterAction),this.focusAction&&this.bindEvent("focus",this.focusAction)},t.prototype.ensureMouseleaveAndBlurAction=function(){this.mouseleaveAction&&this.bindEvent("mouseleave",this.mouseleaveAction),this.blurAction&&this.bindEvent("blur",this.blurAction)},t.prototype.bindEvent=function(t,e){this.eventOwner?this.eventOwner.on(this.element,t,e):r.$$(this.element).on(t,e)},t}();e.AccessibleButton=s},214:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),n(476);var i,r=n(3),s=n(17),u=n(1),c=n(14),l=n(13),a=n(4),h=n(6),p=n(8),f=n(2);!function(t){t[t.Undefined=0]="Undefined",t[t.Lowest=1]="Lowest",t[t.Low=2]="Low",t[t.Average=3]="Average",t[t.Good=4]="Good",t[t.Best=5]="Best"}(i=e.RatingValues||(e.RatingValues={}));var d=function(t){function e(n,o,i,r){var s=t.call(this,n,e.ID,i)||this;return s.element=n,s.options=o,s.bindings=i,s.result=r,s.options=p.ComponentOptions.initComponentOptions(n,e,o),a.Utils.isNullOrUndefined(r.rating)||s.renderComponent(n,r.rating),s}return o(e,t),e.prototype.renderComponent=function(t,e){for(var n=1;n<=5;n++)this.renderStar(t,n<=e,n)},e.prototype.renderStar=function(t,e,n){var o,i=this,r=u.$$(t).find('a[rating-value="'+n+'"]');null==r?(o=u.$$("a",{className:"coveo-result-rating-star"},l.SVGIcons.icons.star),c.SVGDom.addClassToSVGInContainer(o.el,"coveo-result-rating-star-svg"),t.appendChild(o.el),this.bindings.searchInterface.options.enableCollaborativeRating&&((new s.AccessibleButton).withElement(o).withSelectAction(function(t){var e=t.currentTarget;i.rateDocument(parseInt(e.getAttribute("rating-value")))}).withLabel(n.toString()).build(),o.on("mouseover",function(e){var n=e.currentTarget;i.renderComponent(t,parseInt(n.getAttribute("rating-value")))}),o.on("mouseout",function(){i.renderComponent(t,i.result.rating)})),o.el.setAttribute("rating-value",n.toString())):o=u.$$(r),o.toggleClass("coveo-result-rating-star-active",e)},e.prototype.rateDocument=function(t){var e=this,n={rating:i[t],uniqueId:this.result.uniqueId};this.queryController.getEndpoint().rateDocument(n).then(function(){e.result.rating=t,e.renderComponent(e.element,t)}).catch(function(){e.logger.error("An error occurred while rating the item")})},e.ID="ResultRating",e.doExport=function(){r.exportGlobally({ResultRating:e})},e}(h.Component);e.ResultRating=d,f.Initialization.registerAutoCreateComponent(d)},371:function(t,e){},476:function(t,e){}});