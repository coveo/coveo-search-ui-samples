{"version":3,"sources":["./src/utils/ChatterUtils.ts","./src/ui/ChatterPostedBy/ChatterPostedBy.ts"],"names":[],"mappings":";;;;;;;;AAAA;IAAA;IAQA,CAAC;IAPQ,qBAAQ,GAAf,UAAgB,SAAiB,EAAE,QAAgB,EAAE,WAAmB;QACtE,OAAO,SAAS,CAAC,OAAO,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IAClD,CAAC;IAEM,oCAAuB,GAA9B,UAA+B,OAAoB,EAAE,gBAAyB,EAAE,YAAqB;QACnG,OAAO,OAAO,CAAC;IACjB,CAAC;IACH,mBAAC;AAAD,CAAC;AARY,oCAAY;;;;;;;;;;;;;;;;;;;;;ACAzB,yCAA8C;AAC9C,gDAA4D;AAG5D,8CAAwD;AACxD,8CAAwD;AACxD,uCAA0C;AAC1C,qCAA0C;AAC1C,mCAAqC;AACrC,6CAAqD;AASrD;IAAqC,mCAAS;IAkB5C,yBACS,OAAoB,EACpB,OAAgC,EAChC,QAAoC,EACpC,MAAqB;QAJ9B,YAME,kBAAM,OAAO,EAAE,eAAe,CAAC,EAAE,EAAE,QAAQ,CAAC,SAsC7C;QA3CQ,aAAO,GAAP,OAAO,CAAa;QACpB,aAAO,GAAP,OAAO,CAAyB;QAChC,cAAQ,GAAR,QAAQ,CAA4B;QACpC,YAAM,GAAN,MAAM,CAAe;QAG5B,KAAI,CAAC,OAAO,GAAG,mCAAgB,CAAC,oBAAoB,CAAC,OAAO,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QAExF,IAAI,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,iBAAiB,CAAC,IAAI,IAAI,EAAE;YAC/D,IAAI,IAAI,GAAG,QAAE,CAAC,MAAM,CAAC,CAAC;YACtB,IAAI,CAAC,IAAI,CAAC,CAAG,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,WAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAC,CAAC,UAAU,CAAC,OAAG,CAAC,CAAC;YACzE,QAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC5B,QAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAChB,KAAI,CAAC,UAAU,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,iBAAiB,CAAC,EAAE,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC,CACxH,CAAC;YAEF,IACE,KAAI,CAAC,OAAO,CAAC,cAAc;gBAC3B,CAAC,aAAK,CAAC,iBAAiB,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;gBAC1E,CAAC,aAAK,CAAC,iBAAiB,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,EACxE;gBACA,sBAAsB;gBACtB,IACE,CAAC,aAAK,CAAC,iBAAiB,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;oBACtE,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,UAAU,CAAC,IAAI,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,gBAAgB,CAAC,EAClG;oBACA,IAAI,MAAM,GAAG,QAAE,CAAC,MAAM,CAAC,CAAC;oBACxB,IAAI,OAAO,GAAG,MAAI,WAAC,CACjB,QAAQ,EACR,KAAI,CAAC,UAAU,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,cAAc,CAAC,EAAE,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,CAAC,SAAS,CAC1H,CAAC;oBACJ,MAAM,CAAC,EAAE,CAAC,SAAS,GAAG,OAAO,CAAC;oBAC9B,QAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;iBAC/B;qBAAM,IAAI,aAAK,CAAC,iBAAiB,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC,EAAE;oBAChF,IAAI,MAAM,GAAG,QAAE,CAAC,MAAM,CAAC,CAAC;oBACxB,MAAM,CAAC,IAAI,CAAC,MAAI,WAAC,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,MAAG,CAAC,CAAC;oBAC1C,QAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;oBAC9B,QAAE,CAAC,OAAO,CAAC,CAAC,MAAM,CAChB,KAAI,CAAC,UAAU,CAAC,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,cAAc,CAAC,EAAE,aAAK,CAAC,aAAa,CAAC,KAAI,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,CAClH,CAAC;iBACH;aACF;SACF;;IACH,CAAC;IAEO,oCAAU,GAAlB,UAAmB,IAAY,EAAE,EAAU;QACzC,IAAI,IAAI,GAAG,QAAE,CAAC,GAAG,EAAE;YACjB,IAAI,EAAE,2BAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,aAAK,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,cAAc,CAAC,EAAE,EAAE,CAAC;SACxG,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChB,OAAO,2BAAY,CAAC,uBAAuB,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;IACjH,CAAC;IArEM,kBAAE,GAAG,iBAAiB,CAAC;IAEvB,wBAAQ,GAAG;QAChB,8BAAc,CAAC;YACb,eAAe,EAAE,eAAe;SACjC,CAAC,CAAC;IACL,CAAC,CAAC;IAEK,uBAAO,GAA2B;QACvC,cAAc,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;QAC3E,cAAc,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAC5E,gBAAgB,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAC9E,YAAY,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;KAC1E,CAAC;IAEK,sBAAM,GAAG,CAAC,iBAAiB,EAAE,eAAe,EAAE,cAAc,EAAE,UAAU,EAAE,gBAAgB,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;IAuDnI,sBAAC;CAAA,CAvEoC,qBAAS,GAuE7C;AAvEY,0CAAe;AAyE5B,+BAAc,CAAC,2BAA2B,CAAC,eAAe,CAAC,CAAC","file":"ChatterPostedBy__037ab7a8d36ab90fa53e.js","sourcesContent":["export class ChatterUtils {\n  static buildURI(objectURI: string, objectId: string, newObjectId: string) {\n    return objectURI.replace(objectId, newObjectId);\n  }\n\n  static bindClickEventToElement(element: HTMLElement, openInPrimaryTab: boolean, openInSubTab: boolean) {\n    return element;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ChatterUtils.ts","import { Component } from '../Base/Component';\nimport { ComponentOptions } from '../Base/ComponentOptions';\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { ChatterUtils } from '../../utils/ChatterUtils';\nimport { Initialization } from '../Base/Initialization';\nimport { l } from '../../strings/Strings';\nimport { Utils } from '../../utils/Utils';\nimport { $$ } from '../../utils/Dom';\nimport { exportGlobally } from '../../GlobalExports';\n\nexport interface IChatterPostedByOption {\n  enablePostedOn: boolean;\n  useFromInstead: boolean;\n  openInPrimaryTab: boolean;\n  openInSubTab: boolean;\n}\n\nexport class ChatterPostedBy extends Component {\n  static ID = 'ChatterPostedBy';\n\n  static doExport = () => {\n    exportGlobally({\n      ChatterPostedBy: ChatterPostedBy\n    });\n  };\n\n  static options: IChatterPostedByOption = {\n    enablePostedOn: ComponentOptions.buildBooleanOption({ defaultValue: true }),\n    useFromInstead: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInPrimaryTab: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n    openInSubTab: ComponentOptions.buildBooleanOption({ defaultValue: true })\n  };\n\n  static fields = ['sfcreatedbyname', 'sfcreatedbyid', 'sffeeditemid', 'sfuserid', 'sfinsertedbyid', 'sfparentid', 'sfparentname'];\n\n  constructor(\n    public element: HTMLElement,\n    public options?: IChatterPostedByOption,\n    public bindings?: IResultsComponentBindings,\n    public result?: IQueryResult\n  ) {\n    super(element, ChatterPostedBy.ID, bindings);\n    this.options = ComponentOptions.initComponentOptions(element, ChatterPostedBy, options);\n\n    if (Utils.getFieldValue(this.result, 'sfcreatedbyname') != null) {\n      let from = $$('span');\n      from.text(`${this.options.useFromInstead ? l('From') : l('PostedBy')} `);\n      $$(element).append(from.el);\n      $$(element).append(\n        this.renderLink(Utils.getFieldValue(this.result, 'sfcreatedbyname'), Utils.getFieldValue(this.result, 'sfcreatedbyid'))\n      );\n\n      if (\n        this.options.enablePostedOn &&\n        !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfparentname')) &&\n        !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfparentid'))\n      ) {\n        // Post on user's wall\n        if (\n          !Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfuserid')) &&\n          Utils.getFieldValue(this.result, 'sfuserid') != Utils.getFieldValue(this.result, 'sfinsertedbyid')\n        ) {\n          let onFeed = $$('span');\n          let content = ` ${l(\n            'OnFeed',\n            this.renderLink(Utils.getFieldValue(this.result, 'sfparentname'), Utils.getFieldValue(this.result, 'sfparentid')).outerHTML\n          )}`;\n          onFeed.el.innerHTML = content;\n          $$(element).append(onFeed.el);\n        } else if (Utils.isNullOrUndefined(Utils.getFieldValue(this.result, 'sfuserid'))) {\n          let onUser = $$('span');\n          onUser.text(` ${l('On').toLowerCase()} `);\n          $$(element).append(onUser.el);\n          $$(element).append(\n            this.renderLink(Utils.getFieldValue(this.result, 'sfparentname'), Utils.getFieldValue(this.result, 'sfparentid'))\n          );\n        }\n      }\n    }\n  }\n\n  private renderLink(text: string, id: string): HTMLElement {\n    let link = $$('a', {\n      href: ChatterUtils.buildURI(this.result.clickUri, Utils.getFieldValue(this.result, 'sffeeditemid'), id)\n    });\n    link.text(text);\n    return ChatterUtils.bindClickEventToElement(link.el, this.options.openInPrimaryTab, this.options.openInSubTab);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ChatterPostedBy);\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/ChatterPostedBy/ChatterPostedBy.ts"],"sourceRoot":""}